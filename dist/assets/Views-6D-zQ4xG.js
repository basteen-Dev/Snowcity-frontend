import{R as r,D as t,j as e}from"./index-LUC8W6HM.js";import{a as l}from"./AdminApp-BAIHpeWj.js";import{R as c,T as x}from"./CategoricalChart-Ct6we7W-.js";import{L as p,a as u}from"./LineChart-DV8uQ4i-.js";import{C as g,X as b,Y as y,L as f}from"./CartesianChart-C10HTeXy.js";import"./createLucideIcon-BY9DOx5Q.js";import"./file-text-Bc3jcJvJ.js";import"./ticket-xkTq38T-.js";import"./clsx-B-dksMZM.js";import"./index-CgmsNRzu.js";function C(){const[s,i]=r.useState(t().subtract(14,"day").startOf("day").toISOString()),[o,d]=r.useState(t().endOf("day").toISOString()),[n,m]=r.useState([]);return r.useEffect(()=>{(async()=>{const a=await l.get("/api/admin/analytics/daily",{from:s,to:o});m(Array.isArray(a)?a:[])})()},[s,o]),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-xl border bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 p-3",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-neutral-300",children:"This view reflects access scoping based on your admin role/permissions. Data is filtered server-side."})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{type:"datetime-local",className:"rounded-md border px-2 py-1 text-sm dark:bg-neutral-900 dark:border-neutral-700",value:t(s).format("YYYY-MM-DDTHH:mm"),onChange:a=>i(t(a.target.value).toISOString())}),e.jsx("input",{type:"datetime-local",className:"rounded-md border px-2 py-1 text-sm dark:bg-neutral-900 dark:border-neutral-700",value:t(o).format("YYYY-MM-DDTHH:mm"),onChange:a=>d(t(a.target.value).toISOString())})]}),e.jsxs("div",{className:"rounded-xl border bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Scoped Daily Bookings"}),e.jsx("div",{style:{height:320},children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(p,{data:n,children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"bucket",tickFormatter:a=>t(a).format("MM-DD")}),e.jsx(y,{}),e.jsx(x,{labelFormatter:a=>t(a).format("YYYY-MM-DD")}),e.jsx(f,{}),e.jsx(u,{type:"monotone",dataKey:"bookings",stroke:"#2563eb",name:"Bookings",strokeWidth:2,dot:!1})]})})})]})]})}export{C as default};
