import{A as d,R as o,j as t}from"./index-DpUnVvi7.js";import{a as m,A as c}from"./AdminApp-DElutmvv.js";import{A as u}from"./AdminTable-C9C_doBs.js";import"./createLucideIcon-DlloiUI2.js";import"./file-text-BcxeLTgw.js";import"./users-Dj4zQjFo.js";import"./newspaper-D6LH_a5a.js";import"./ticket-DJwTfedz.js";import"./chevron-down-BM4ufvPU.js";function R(){const s=d(),[i,r]=o.useState({status:"idle",items:[],error:null}),l=async()=>{r(e=>({...e,status:"loading",error:null}));try{const e=await m.get(c.roles()),a=Array.isArray(e==null?void 0:e.data)?e.data:Array.isArray(e)?e:[];r(n=>({...n,status:"succeeded",items:a}))}catch(e){r(a=>({...a,status:"failed",error:e}))}};return o.useEffect(()=>{l()},[]),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Roles"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"rounded-md border px-3 py-2 text-sm",onClick:()=>s("/admin/rbac/matrix"),children:"RBAC Matrix"}),t.jsx("button",{className:"rounded-md bg-gray-900 text-white px-3 py-2 text-sm",onClick:()=>s("/admin/roles/new"),children:"New Role"})]})]}),t.jsx(u,{keyField:"role_id",columns:[{key:"role_name",title:"Role"},{key:"description",title:"Description"}],rows:i.items,onRowClick:e=>s(`/admin/roles/${e.role_id}`),empty:i.status==="loading"?"Loadingâ€¦":"No roles"})]})}export{R as default};
