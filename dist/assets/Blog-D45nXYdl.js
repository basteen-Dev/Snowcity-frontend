import{C as m,R as c,i as u,k as x,j as s,A as f}from"./index-uOjPOlE7.js";import{E as g}from"./ErrorState-Cdb-EBN8.js";import{i as h}from"./media-D2Wlcy5m.js";import{R as j,H as b}from"./RawFrame-gmeE3AGq.js";import"./clsx-B-dksMZM.js";function B(){const{slug:l}=m(),[e,o]=c.useState({status:"idle",data:null,error:null});if(c.useEffect(()=>{if(!l)return;const i=new AbortController;return(async()=>{o({status:"loading",data:null,error:null});try{const a=await u.get(x.blogs.bySlug(l),{signal:i.signal}),r=(a==null?void 0:a.blog)||a||null;o({status:"succeeded",data:r,error:null}),document.title=(r==null?void 0:r.title)||"Blog"}catch(a){o({status:"failed",data:null,error:(a==null?void 0:a.message)||"Failed to load blog"})}})(),()=>i.abort()},[l]),e.status==="loading")return s.jsx(f,{});if(e.status==="failed")return s.jsx(g,{message:e.error});const t=e.data||{},n=h(t),d=(t.editor_mode||"").toLowerCase()==="raw";return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white px-4 pt-20 pb-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t.title||"Blog"}),t.author?s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["By ",t.author]}):null,n?s.jsx("div",{className:"mt-4 rounded-xl overflow-hidden border",children:s.jsx("img",{src:n,alt:t.title,className:"w-full h-auto object-cover"})}):null,s.jsx("div",{className:"mt-6",children:d?s.jsx(j,{title:t.title||"Blog",html:t.raw_html||"",css:t.raw_css||"",js:t.raw_js||""}):s.jsx(b,{html:t.content||""})})]})})}export{B as default};
