import{A as y,j as n,L as h}from"./index-CmreT6x1.js";import{f as j}from"./formatters-CmiLqhJj.js";import{g as v}from"./pricing-Df4qX4St.js";import{i as N}from"./media-DcknJ8BL.js";const A=s=>{if(s.slug)return s.slug;if(Array.isArray(s.attractions)&&s.attractions.length){const e=s.attractions.map(a=>a.slug).filter(Boolean);if(e.length)return e.join("-")}return null},k=s=>!s&&s!==0?"":N(s,"")||"",C=s=>{if(!s)return"";const e=[s.hero_image,s.banner_image,s.image_web,s.image_mobile,s.image_url,s.cover_image,s.poster_image,s.thumbnail,s.banner_media_id,s.image_media_id,s.cover_media_id,Array.isArray(s.media)?s.media[0]:null,Array.isArray(s.gallery)?s.gallery[0]:null,s.image];for(const a of e){const o=k(a);if(o)return o}return""},i=s=>{const e=Number(s);return Number.isFinite(e)?e:0},b=s=>{if(!s||typeof s!="object")return 0;const e=i(s.total_price);if(e>0)return e;if(Array.isArray(s.attractions)&&s.attractions.length){const c=s.attractions.reduce((l,r)=>l+i((r==null?void 0:r.price)??(r==null?void 0:r.base_price)??(r==null?void 0:r.amount)),0);if(c>0)return c}if(Array.isArray(s.combo_attractions)&&s.combo_attractions.length){const c=s.combo_attractions.reduce((l,r)=>l+i((r==null?void 0:r.attraction_price)??(r==null?void 0:r.price)),0);if(c>0)return c}const a=s.attraction_prices;if(Array.isArray(a)&&a.length){const c=a.reduce((l,r)=>l+i(r),0);if(c>0)return c}else if(a&&typeof a=="object"){const l=Object.values(a).reduce((r,t)=>r+i(t),0);if(l>0)return l}const o=i(s==null?void 0:s.attraction_1_price)+i(s==null?void 0:s.attraction_2_price);return o>0?o:0};function B({item:s}){const e=(s==null?void 0:s.name)||(s==null?void 0:s.title)||"Combo deal",a=(s==null?void 0:s.short_description)||(s==null?void 0:s.subtitle)||"",o=(s==null?void 0:s.combo_id)||(s==null?void 0:s.id)||(s==null?void 0:s.slug)||null,c=C(s),l=v(s,{includeOffers:!1}),r=b(s),t=l>0?l:i(s==null?void 0:s.combo_price)||i(s==null?void 0:s.total_price)||r,d=A(s),g=d?`/combo-${d}`:o?`/combos/${o}`:"/combos",p=(s==null?void 0:s.combo_id)||(s==null?void 0:s.id)||null,f=p?`/booking?combo_id=${p}&openDrawer=true`:"/booking?openDrawer=true",x=y(),_=u=>u.stopPropagation();return n.jsxs(h,{to:g,className:"exp-card block no-underline",children:[n.jsx("div",{className:"exp-card-img",children:c&&n.jsx("img",{src:c,alt:e,className:"absolute inset-0 h-full w-full object-cover",loading:"lazy",decoding:"async"})}),n.jsxs("div",{className:"exp-card-body",children:[n.jsx("div",{className:"exp-type",children:"Exclusive Combo"}),n.jsx("div",{className:"exp-name",children:e}),n.jsxs("div",{className:"flex gap-3 mb-6",children:[n.jsx("div",{className:"flex-shrink-0 mt-1"}),n.jsx("div",{className:"exp-desc",children:a})]}),n.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-slate-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Per Person"}),n.jsx("p",{className:"text-xl font-extrabold text-[#1e3a8a]",children:j(t||1299)})]}),n.jsx("div",{onClick:u=>{_(u),x(f)},className:"btn-book-exp !py-2.5 !px-6 !text-xs cursor-pointer",children:"Book Now"})]})]})]})}export{B as C};
