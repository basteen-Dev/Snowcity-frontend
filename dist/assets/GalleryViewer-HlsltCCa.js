import{r as w,R as k,j as e}from"./index-C5Mz9dTM.js";import{i as d}from"./media-DDlhmRHE.js";function L({items:o=[],initialIndex:j=0,onClose:i=null}){const[s,g]=w.useState(j),u=w.useRef(null);if(!o.length)return null;const t=o[s],h=String(t.media_type||"").toLowerCase()==="video",x=h?d(t.media_url||t.url||t):d(t.image_url||t.url||t),p=d(t.thumbnail||t.poster_url||null),a=l=>{l>=0&&l<o.length&&g(l)},n=()=>a(s-1),c=()=>a(s+1),m=l=>{l.key==="ArrowLeft"&&n(),l.key==="ArrowRight"&&c(),l.key==="Escape"&&i&&i()};return k.useEffect(()=>(window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)),[s,i]),e.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col",children:[i&&e.jsx("button",{onClick:i,className:"absolute inset-0 z-30 md:hidden","aria-label":"Close gallery"}),e.jsxs("div",{className:"flex items-center justify-between p-4 text-white",children:[e.jsxs("div",{className:"text-sm",children:[s+1," / ",o.length]}),t.title&&e.jsxs("div",{className:"text-center flex-1 px-4",children:[e.jsx("h3",{className:"font-medium",children:t.title}),t.description&&e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:t.description})]}),i&&e.jsx("button",{onClick:i,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors z-50 relative","aria-label":"Close",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center relative overflow-hidden",children:[e.jsx("button",{onClick:n,disabled:s===0,className:"absolute left-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"max-w-full max-h-full flex items-center justify-center",children:h?e.jsx("video",{className:"max-w-full max-h-full object-contain",src:x,controls:!0,autoPlay:!0,poster:p||void 0}):e.jsx("img",{src:x,alt:t.title||"Gallery item",className:"max-w-full max-h-full object-contain"})}),e.jsx("button",{onClick:c,disabled:s===o.length-1,className:"absolute right-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"p-4 bg-black/50",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-4xl mx-auto",children:o.map((l,r)=>e.jsx("button",{onClick:()=>a(r),className:`w-8 h-8 rounded-full text-xs font-medium transition-all ${r===s?"bg-blue-600 text-white scale-110":"bg-white/20 text-white hover:bg-white/30"}`,"aria-label":`Go to item ${r+1}`,children:r+1},l.gallery_item_id||l.id||r))})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"absolute inset-0 z-40",onTouchStart:l=>{const r=l.touches[0];u.current=r.clientX},onTouchEnd:l=>{const v=l.changedTouches[0].clientX,f=u.current;if(f!==null){const b=f-v;Math.abs(b)>50&&(b>0?c():n())}}})})]})}export{L as G};
