import{h as u,u as m,R as h,z as c,j as s,A as x}from"./index-Buz5vlJT.js";import{E as g}from"./ErrorState-DW0DLMd4.js";import{i}from"./media-DTTax9V0.js";function v(){var o;const l=u(),t=m(e=>e.gallery);h.useEffect(()=>{t.status==="idle"&&l(c({active:!0,limit:100}))},[l,t.status]);const a=t.items||[];return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-semibold",children:"Gallery"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Peek into the SnowCity experience with photos and short clips from our visitors."})]}),t.status==="loading"&&!a.length?s.jsx(x,{}):null,t.status==="failed"?s.jsx(g,{message:((o=t.error)==null?void 0:o.message)||"Failed to load gallery",onRetry:()=>l(c({active:!0,limit:100}))}):null,s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.map(e=>{const n=String(e.media_type||"").toLowerCase()==="video",r=n?i(e.media_url||e.url||e):i(e.image_url||e.url||e),d=i(e.thumbnail||e.poster_url||null);return r?s.jsxs("figure",{className:"group relative overflow-hidden rounded-2xl border shadow-sm bg-white",children:[n?s.jsx("video",{className:"w-full h-56 object-cover",src:r,controls:!0,preload:"metadata",poster:d||void 0}):s.jsx("img",{src:r,alt:e.title||"Gallery item",className:"w-full h-56 object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",decoding:"async"}),e.title||e.description?s.jsxs("figcaption",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent p-4 text-sm text-white",children:[e.title?s.jsx("div",{className:"font-medium",children:e.title}):null,e.description?s.jsx("div",{className:"text-xs opacity-80 mt-1",children:e.description}):null]}):null]},e.gallery_item_id||e.id):null})}),!a.length&&t.status==="succeeded"?s.jsx("div",{className:"py-16 text-center text-gray-500",children:"We'll be adding gallery highlights soon!"}):null]})})}export{v as default};
