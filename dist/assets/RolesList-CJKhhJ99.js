import{A as d,R as o,j as t}from"./index-CmreT6x1.js";import{a as m,A as c}from"./AdminApp-BV7zANWg.js";import{A as u}from"./AdminTable-tpEZTVA3.js";import"./createLucideIcon-CgZNF2TE.js";import"./file-text-ButRzfWA.js";import"./newspaper-yOb_4zvd.js";import"./ticket-hq6RMmhb.js";import"./chevron-down-bqKWLlrR.js";function h(){const s=d(),[i,a]=o.useState({status:"idle",items:[],error:null}),l=async()=>{a(e=>({...e,status:"loading",error:null}));try{const e=await m.get(c.roles()),r=Array.isArray(e==null?void 0:e.data)?e.data:Array.isArray(e)?e:[];a(n=>({...n,status:"succeeded",items:r}))}catch(e){a(r=>({...r,status:"failed",error:e}))}};return o.useEffect(()=>{l()},[]),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Roles"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"rounded-md border px-3 py-2 text-sm",onClick:()=>s("/admin/rbac/matrix"),children:"RBAC Matrix"}),t.jsx("button",{className:"rounded-md bg-gray-900 text-white px-3 py-2 text-sm",onClick:()=>s("/admin/roles/new"),children:"New Role"})]})]}),t.jsx(u,{keyField:"role_id",columns:[{key:"role_name",title:"Role"},{key:"description",title:"Description"}],rows:i.items,onRowClick:e=>s(`/admin/roles/${e.role_id}`),empty:i.status==="loading"?"Loadingâ€¦":"No roles"})]})}export{h as default};
