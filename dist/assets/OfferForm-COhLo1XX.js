import{C as L,B as P,R as _,j as e}from"./index-Buz5vlJT.js";import{a as j,A as N}from"./AdminApp-DjyjDDmt.js";import{I as V}from"./ImageUploader-Dj1uckPh.js";import{u as B}from"./useCatalogTargets-cyje0ZQq.js";import"./createLucideIcon-BEwYts5j.js";import"./file-text-CuRCFKVY.js";import"./ticket-B65mU2v0.js";import"./media-DTTax9V0.js";const H=["holiday","happy_hour","weekday_special","dynamic_pricing","date_slot_pricing"],A=[{value:"percent",label:"Percentage (%)"},{value:"amount",label:"Flat Amount"}],U=[{value:"attraction",label:"Attraction"},{value:"combo",label:"Combo"}],W={target_type:"attraction",target_id:"",applies_to_all:!1,date_from:"",date_to:"",time_from:"",time_to:"",slot_type:"",slot_id:"",rule_discount_type:"",rule_discount_value:"",priority:100,day_type:"",specific_days:[],is_holiday:!1,specific_date:"",specific_time:"",specific_dates:[],next_specific_date:""},M=[{key:"happy-hour",label:"Happy Hour Window",badge:"Time-based",description:"Reward mid-day visitors with an automatic discount window.",ruleType:"happy_hour",defaults:{day_type:"weekday",time_from:"14:00",time_to:"17:00",rule_discount_type:"percent",rule_discount_value:20}},{key:"weekend-boost",label:"Weekend Boost",badge:"Day-based",description:"Highlight premium or discounted pricing for weekends.",ruleType:"weekday_special",defaults:{day_type:"weekend",rule_discount_type:"percent",rule_discount_value:10}},{key:"date-slot",label:"Specific Date Slot",badge:"Slot",description:"Target a single date or slot for campaigns and events.",ruleType:"date_slot_pricing",defaults:{specific_date:"",specific_time:"",rule_discount_type:"amount",rule_discount_value:200}}],z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=(r={})=>({...W,...r}),Y=(r,y)=>{const d=Number(r||0);return d?y==="amount"?`₹${d.toFixed(2)}`:`${d}%`:"Inherit offer discount"},q=(r,y)=>{const d=[];if(r.applies_to_all)d.push(`All ${r.target_type}s`);else if(r.target_id){const m=y?y(r):"";d.push(m||`${r.target_type} #${r.target_id}`)}else d.push("Target pending");if(r.day_type==="custom"&&Array.isArray(r.specific_days)&&r.specific_days.length){const m=r.specific_days.map(g=>z[g]).filter(Boolean);d.push(m.length?m.join(", "):"Custom days")}else r.day_type?d.push(r.day_type.replace("_"," ")):r.is_holiday?d.push("Holiday only"):d.push("All days");return r.time_from||r.time_to?d.push(`${r.time_from||"00:00"}–${r.time_to||"23:59"}`):d.push("All day"),Array.isArray(r.specific_dates)&&r.specific_dates.length&&d.push(`${r.specific_dates.length} date${r.specific_dates.length>1?"s":""}`),d.push(Y(r.rule_discount_value,r.rule_discount_type)),d.join(" · ")};function se(){var w,S;const{id:r}=L(),y=P(),d=!!r,{attractions:m,combos:g,status:D}=B(),[o,x]=_.useState({status:d?"loading":"idle",error:null,form:{title:"",description:"",image_url:"",rule_type:"",discount_type:"percent",discount_value:0,max_discount:"",valid_from:"",valid_to:"",active:!0,rules:[]}});_.useEffect(()=>{d&&(async()=>{try{const t=await j.get(`${N.offers()}/${r}`),a=(t==null?void 0:t.offer)||t||{};x(s=>({...s,status:"idle",form:{title:a.title||"",description:a.description||"",image_url:a.image_url||"",rule_type:a.rule_type||"",discount_type:a.discount_type||"percent",discount_value:Number(a.discount_value??a.discount_percent??0),max_discount:a.max_discount??"",valid_from:a.valid_from?new Date(a.valid_from).toISOString().split("T")[0]:"",valid_to:a.valid_to?new Date(a.valid_to).toISOString().split("T")[0]:"",active:!!a.active,rules:Array.isArray(a.rules)?a.rules.map(l=>k({target_type:l.target_type||"attraction",target_id:l.target_id??"",applies_to_all:!!l.applies_to_all,date_from:l.date_from?new Date(l.date_from).toISOString().split("T")[0]:"",date_to:l.date_to?new Date(l.date_to).toISOString().split("T")[0]:"",time_from:l.time_from||"",time_to:l.time_to||"",slot_type:l.slot_type||"",slot_id:l.slot_id??"",rule_discount_type:l.rule_discount_type||"",rule_discount_value:l.rule_discount_value??"",priority:l.priority??100,day_type:l.day_type||"",specific_days:l.specific_days||[],is_holiday:!!l.is_holiday,specific_date:l.specific_date?new Date(l.specific_date).toISOString().split("T")[0]:"",specific_dates:l.specific_date?[new Date(l.specific_date).toISOString().split("T")[0]]:[],specific_time:l.specific_time||"",next_specific_date:""})):[]}}))}catch(t){x(a=>({...a,status:"failed",error:t}))}})()},[r,d]);const u=_.useCallback(t=>{x(a=>({...a,form:{...a.form,...t}}))},[]),c=_.useCallback((t,a)=>{x(s=>{const l=[...s.form.rules||[]];return l[t]={...l[t],...a},a.target_type&&l[t].target_id&&((a.target_type==="attraction"?m.some(h=>h.id===Number(l[t].target_id)):g.some(h=>h.id===Number(l[t].target_id)))||(l[t].target_id="")),{...s,form:{...s.form,rules:l}}})},[m,g]),R=_.useCallback(()=>{x(t=>({...t,form:{...t.form,rules:[...t.form.rules||[],k()]}}))},[]),$=_.useCallback(t=>{if(!t||!t.target_id)return"";const a=t.target_type==="combo"?g:m,s=Number(t.target_id),l=a.find(f=>Number(f.id)===s);return l&&(l.title||l.name)||""},[m,g]),E=_.useCallback(t=>{x(a=>({...a,form:{...a.form,rule_type:t.ruleType,rules:[...a.form.rules||[],k({...t.defaults,rule_discount_type:t.defaults.rule_discount_type??"",rule_discount_value:t.defaults.rule_discount_value??""})]}}))},[]),F=_.useCallback(t=>{x(a=>{const s=[...a.form.rules||[]];return s.splice(t,1),{...a,form:{...a.form,rules:s}}})},[]),I=async t=>{t.preventDefault();try{const a=i=>{const p=(i??"").toString().trim();return p||null},s=i=>{const p=(i??"").toString().trim();return p||null},l=i=>{const p=(i??"").toString().trim();return p||null},f=(o.form.rules||[]).map(i=>i.applies_to_all?{...i,target_id:null}:{...i});if(f.filter(i=>!i.applies_to_all&&(i.target_id===null||i.target_id===void 0||i.target_id==="")).length>0){x(i=>({...i,error:{message:'Please select a target from the list or enable "Applies to all".'}}));return}const b=[];f.forEach(i=>{const{specific_dates:p=[],next_specific_date:G,...v}=i,T=Array.isArray(p)?p.filter(Boolean):[];T.length?T.forEach(O=>{b.push({...v,specific_date:a(O)})}):b.push({...v,specific_date:a(v.specific_date)})});const C={...o.form,discount_type:o.form.discount_type||"percent",discount_value:Number(o.form.discount_value||0),discount_percent:o.form.discount_type==="percent"?Number(o.form.discount_value||0):0,max_discount:o.form.max_discount===""?null:Number(o.form.max_discount),valid_from:a(o.form.valid_from),valid_to:a(o.form.valid_to),rules:b.map(i=>({...i,target_id:i.applies_to_all||i.target_id===""?null:Number(i.target_id),slot_id:i.slot_id===""?null:Number(i.slot_id),rule_discount_value:i.rule_discount_value===""?null:Number(i.rule_discount_value),priority:Number(i.priority??100),date_from:a(i.date_from),date_to:a(i.date_to),time_from:s(i.time_from),time_to:s(i.time_to),specific_date:a(i.specific_date),specific_time:s(i.specific_time),rule_discount_type:l(i.rule_discount_type),slot_type:l(i.slot_type),day_type:l(i.day_type),specific_dates:void 0,next_specific_date:void 0}))};d?await j.put(`${N.offers()}/${r}`,C):await j.post(N.offers(),C),y("/admin/catalog/offers")}catch(a){x(s=>({...s,error:a}))}};if(o.status==="loading")return e.jsx("div",{children:"Loading…"});if(o.status==="failed")return e.jsx("div",{className:"text-red-600",children:((w=o.error)==null?void 0:w.message)||"Failed to load"});const n=o.form;return e.jsxs("form",{onSubmit:I,className:"max-w-2xl bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-4",children:[e.jsxs("h1",{className:"text-xl font-semibold mb-4",children:[d?"Edit":"New"," Offer"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Title"}),e.jsx("input",{className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.title,onChange:t=>u({title:t.target.value})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Description"}),e.jsx("textarea",{rows:4,className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.description,onChange:t=>u({description:t.target.value})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(V,{label:"Image",value:n.image_url,onChange:t=>u({image_url:t}),requiredPerm:"uploads:write"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Rule Type"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.rule_type,onChange:t=>u({rule_type:t.target.value}),children:[e.jsx("option",{value:"",children:"—"},"__default-rule-type__"),H.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Discount Type"}),e.jsx("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.discount_type,onChange:t=>u({discount_type:t.target.value}),children:A.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Discount Value"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.discount_value,onChange:t=>u({discount_value:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Max Discount (optional)"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.max_discount??"",onChange:t=>u({max_discount:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Valid From"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.valid_from||"",onChange:t=>u({valid_from:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-neutral-300 mb-1",children:"Valid To"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200",value:n.valid_to||"",onChange:t=>u({valid_to:t.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("input",{id:"active",type:"checkbox",checked:!!n.active,onChange:t=>u({active:t.target.checked})}),e.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700 dark:text-neutral-200",children:"Active"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Rules"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{type:"button",onClick:R,className:"text-sm rounded-md border px-3 py-1",children:"Add Rule"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:M.map(t=>e.jsxs("button",{type:"button",onClick:()=>E(t),className:"rounded-2xl border border-gray-200 hover:border-gray-400 text-left p-3 bg-white/70 dark:bg-neutral-900/60 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-gray-500",children:[e.jsx("span",{children:t.badge}),e.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:"Template"})]}),e.jsx("div",{className:"mt-1 text-sm font-semibold text-gray-900 dark:text-neutral-100",children:t.label}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 min-h-[32px]",children:t.description})]},t.key))}),(n.rules||[]).length?null:e.jsx("div",{className:"text-sm text-gray-500",children:"No rules yet. Add one to target specific attractions or combos."}),e.jsx("div",{className:"space-y-4 mt-3",children:(n.rules||[]).map((t,a)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold",children:["Rule #",a+1]}),e.jsx("div",{className:"text-xs text-gray-500",children:q(t,$)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] text-gray-600",children:t.target_type==="combo"?"Combo":"Attraction"}),e.jsx("button",{type:"button",onClick:()=>F(a),className:"text-xs text-red-600",children:"Remove"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Target Type"}),e.jsx("select",{className:"w-full rounded-md border px-3 py-2",value:t.target_type,onChange:s=>c(a,{target_type:s.target.value}),children:U.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Target"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:t.target_id??"",disabled:t.applies_to_all||D==="loading",onChange:s=>c(a,{target_id:s.target.value}),children:[e.jsxs("option",{value:"",children:["Select ",t.target_type==="combo"?"Combo":"Attraction"]},`__default-target-${a}__`),(t.target_type==="attraction"?m:g).map(s=>e.jsx("option",{value:s.id,children:s.title||s.name},s.id))]}),!t.applies_to_all&&(!t.target_id||t.target_id==="")?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:"Select a target or enable Applies to all"}):null]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:`applies-${a}`,type:"checkbox",checked:!!t.applies_to_all,onChange:s=>c(a,{applies_to_all:s.target.checked})}),e.jsx("label",{htmlFor:`applies-${a}`,className:"text-xs text-gray-600",children:"Applies to all of this type"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date From"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2",value:t.date_from||"",onChange:s=>c(a,{date_from:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date To"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2",value:t.date_to||"",onChange:s=>c(a,{date_to:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Time From"}),e.jsx("input",{type:"time",className:"w-full rounded-md border px-3 py-2",value:t.time_from||"",onChange:s=>c(a,{time_from:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Time To"}),e.jsx("input",{type:"time",className:"w-full rounded-md border px-3 py-2",value:t.time_to||"",onChange:s=>c(a,{time_to:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Slot Type"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:t.slot_type||"",onChange:s=>c(a,{slot_type:s.target.value}),children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"attraction",children:"Attraction"}),e.jsx("option",{value:"combo",children:"Combo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Slot ID"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:t.slot_id??"",onChange:s=>c(a,{slot_id:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Priority"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:t.priority??100,onChange:s=>c(a,{priority:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rule Discount Type"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:t.rule_discount_type||"",onChange:s=>c(a,{rule_discount_type:s.target.value}),children:[e.jsx("option",{value:"",children:"Use Offer Default"},`__default-rule-discount-type-${a}__`),A.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rule Discount Value"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:t.rule_discount_value??"",onChange:s=>c(a,{rule_discount_value:s.target.value}),placeholder:"Optional"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Day Type"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:t.day_type||"",onChange:s=>c(a,{day_type:s.target.value,specific_days:s.target.value==="custom"?[]:[],specific_dates:s.target.value==="holiday"?[]:t.specific_dates||[]}),children:[e.jsx("option",{value:"",children:"All Days"}),e.jsx("option",{value:"weekday",children:"Weekdays (Mon-Fri)"}),e.jsx("option",{value:"weekend",children:"Weekends (Sat-Sun)"}),e.jsx("option",{value:"holiday",children:"Holidays Only"}),e.jsx("option",{value:"custom",children:"Custom Days"})]})]}),t.day_type==="custom"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Select Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((s,l)=>e.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[e.jsx("input",{type:"checkbox",checked:(t.specific_days||[]).includes(l),onChange:f=>{const h=t.specific_days||[];f.target.checked?c(a,{specific_days:[...h,l]}):c(a,{specific_days:h.filter(b=>b!==l)})}}),s]},s))})]}),t.day_type==="holiday"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Holiday Pricing"}),e.jsx("div",{className:"text-xs text-gray-600",children:"This rule will apply only to declared holidays"})]})]}),e.jsxs("div",{className:"border-t pt-3 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Add Specific Date"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2",value:t.next_specific_date||"",onChange:s=>c(a,{next_specific_date:s.target.value})})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",className:"px-3 py-2 text-xs rounded-md border",disabled:!t.next_specific_date,onClick:()=>{if(!t.next_specific_date)return;const s=Array.isArray(t.specific_dates)?t.specific_dates:[];s.includes(t.next_specific_date)?c(a,{next_specific_date:""}):c(a,{specific_dates:[...s,t.next_specific_date].sort(),next_specific_date:""})},children:"Add Date"})}),e.jsx("div",{className:"text-xs text-gray-500",children:"Select one or more calendar dates. Rules targeting specific weekdays will still constrain these dates."})]}),Array.isArray(t.specific_dates)&&t.specific_dates.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Selected Dates"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.specific_dates.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:[new Date(s).toLocaleDateString(),e.jsx("button",{type:"button",className:"text-red-500",onClick:()=>{c(a,{specific_dates:t.specific_dates.filter(l=>l!==s)})},children:"×"})]},`${a}-date-${s}`))})]})]}),n.rule_type==="date_slot_pricing"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 border-t pt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Specific Date"}),e.jsx("input",{type:"date",className:"w-full rounded-md border px-3 py-2",value:t.specific_date||"",onChange:s=>c(a,{specific_date:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Specific Slot Time"}),e.jsx("input",{type:"time",className:"w-full rounded-md border px-3 py-2",value:t.specific_time||"",onChange:s=>c(a,{specific_time:s.target.value})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Slot ID (Optional)"}),e.jsx("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:t.slot_id??"",onChange:s=>c(a,{slot_id:s.target.value}),placeholder:"Leave empty for all slots on this date/time"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("div",{className:"text-xs text-gray-600",children:"This rule will apply only to the specific date and time slot selected. If slot ID is provided, it will apply only to that specific slot."})})]})]},`rule-${a}`))})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{type:"submit",className:"rounded-md bg-gray-900 text-white px-4 py-2 text-sm",children:"Save"}),e.jsx("button",{type:"button",className:"rounded-md border px-4 py-2 text-sm",onClick:()=>y(-1),children:"Cancel"})]}),o.error?e.jsx("div",{className:"mt-2 text-sm text-red-600",children:((S=o.error)==null?void 0:S.message)||"Error"}):null]})}export{se as default};
