const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminsList-CaVGHqw2.js","assets/index-CNdOvwUA.js","assets/index-DF6iILUU.css","assets/createLucideIcon-D7GIchwo.js","assets/file-text-B3yKuaPb.js","assets/ticket-BYx_I3BZ.js","assets/AdminNew-D3K-0e2f.js","assets/AdminAccess-Ds259bUf.js","assets/Dashboard-bxPxJUz0.js","assets/formatters-CmiLqhJj.js","assets/CategoricalChart-D03Th3lv.js","assets/clsx-B-dksMZM.js","assets/index-Djbb2BBh.js","assets/LineChart-BkPLI5Zz.js","assets/CartesianChart-DAgyecCk.js","assets/PieChart-BqBJ5E5P.js","assets/tooltipContext-BcnJGoRT.js","assets/BookingsList-89dueVqZ.js","assets/AdminTable-DrGBelt1.js","assets/AdminPagination-B-lWN1TB.js","assets/file-spreadsheet-BfDX3ZfR.js","assets/BookingDetails-DwPvfH7L.js","assets/AttractionsList-TgyGKRgu.js","assets/sortable.esm-D2TAGSKU.js","assets/AttractionForm-H0cdSU8l.js","assets/ImageUploader-BR89ENI0.js","assets/media-Ct2xuz47.js","assets/SlotList-BGJ7DSWo.js","assets/SlotForm-De0i1jo4.js","assets/SlotBulk-9M7y00p6.js","assets/AddonsList-FFmMc3b6.js","assets/AddonForm-Byparm9Z.js","assets/OffersList-BUf77Hvd.js","assets/OfferForm-CTCypQCn.js","assets/useCatalogTargets-CzVh11Q7.js","assets/CouponsList-DTYtkmQ1.js","assets/CouponForm-9V6g2yn5.js","assets/BannersList-CsErXbg5.js","assets/BannerForm-BIUA7nsM.js","assets/PagesList-BqRnKy8F.js","assets/PageForm-uA_LqcJX.js","assets/GalleryField-CtPWiJ08.js","assets/BlogsList-DdTP2nxM.js","assets/BlogForm-D4Was5mr.js","assets/CombosList-OW6L-UjY.js","assets/ComboForm-D3zhHVXc.js","assets/AttractionSlotList-BBKHcmdD.js","assets/GalleryManager-CE_t4jzT.js","assets/GalleryForm-zkXPGl3a.js","assets/ComboSlotList-CEDnKxo5.js","assets/ComboSlotForm-DxzF6PWe.js","assets/ComboSlotBulk-DFIZodaR.js","assets/UsersList-DXJjqtB7.js","assets/UserEdit-YqjQacFk.js","assets/RolesList-Crkn7DHk.js","assets/RoleForm-zwlLDZiz.js","assets/Overview-CNBGfEip.js","assets/Attractions-CkXdvk10.js","assets/Daily-BhbgcUJL.js","assets/BarChart-CParaZTm.js","assets/Custom-Cq4FeXGt.js","assets/People-BbqgbM2c.js","assets/Views-BVEZM4RV.js","assets/Split-DkniXslq.js","assets/TopAttractions-B60J5xfu.js","assets/AttractionRevenue-vk6as7AU.js","assets/ComboRevenue-CE4fS_9r.js"])))=>i.map(i=>d[i]);
import{c as F,a as De,e as x,b as v,d as Be,f as Ve,u as C,s as ve,R as h,g as $e,j as t,L as $,N as Fe,h as q,i as qe,k as Ue,O as we,l as S,m as He,n as o,r,_ as l,P as Ge}from"./index-CNdOvwUA.js";import{c as b}from"./createLucideIcon-D7GIchwo.js";import{F as W,C as Ye}from"./file-text-B3yKuaPb.js";import{T as Ke}from"./ticket-BYx_I3BZ.js";const Je={user:null,token:null,expires_at:null,checked:!1,perms:[]},Ae=F({name:"adminAuth",initialState:Je,reducers:{setAdminCredentials(e,s){const{user:a,token:n,expires_at:i}=s.payload||{};e.user=a||null,e.token=n||null,e.expires_at=i||null,e.checked=!0},setAdminPermissions(e,s){e.perms=Array.isArray(s.payload)?s.payload:[]},adminLogout(e){e.user=null,e.token=null,e.expires_at=null,e.checked=!0,e.perms=[]}}}),{setAdminCredentials:Ze,setAdminPermissions:Q,adminLogout:U}=Ae.actions,We=Ae.reducer,M={},Qe=(M==null?void 0:M.VITE_ADMIN_API_BASE_URL)||"https://snowcity-backend-zjlj.onrender.com",E=De.create({baseURL:Qe,timeout:2e4,withCredentials:!1,headers:{"Content-Type":"application/json",Accept:"application/json"}});let H=null,N={getToken:()=>H,onUnauthorized:null};function Ee(e){H=e||null}function Xe({getToken:e,onUnauthorized:s}={}){typeof e=="function"&&(N.getToken=e),typeof s=="function"&&(N.onUnauthorized=s)}const et=e=>{var n;const s=e==null?void 0:e.code;return!((n=e==null?void 0:e.response)==null?void 0:n.status)&&(s==="ECONNABORTED"||s==="ERR_NETWORK"||s==="ENETUNREACH"||s==="EAI_AGAIN")},tt=e=>{var c;const s=e==null?void 0:e.response,a=s==null?void 0:s.data,n=(s==null?void 0:s.status)||0,i=(a==null?void 0:a.message)||(a==null?void 0:a.error)||(e==null?void 0:e.message)||"Request failed",d=(a==null?void 0:a.code)||((c=s==null?void 0:s.headers)==null?void 0:c["x-error-code"])||(e==null?void 0:e.code)||null;return{message:i,status:n,code:d,data:typeof a=="object"?a:null}};E.interceptors.request.use(e=>{e.headers=e.headers||{};const s=N.getToken&&N.getToken()||H;return s&&(e.headers.Authorization=`Bearer ${s}`),e});E.interceptors.response.use(e=>e,async e=>{var n;const s=(e==null?void 0:e.config)||{},a=(n=e==null?void 0:e.response)==null?void 0:n.status;if(s.method==="get"&&!s._retry&&et(e)){s._retry=!0;try{return await E(s)}catch(i){e=i}}if(a===401&&typeof N.onUnauthorized=="function")try{await N.onUnauthorized()}catch{}return Promise.reject(tt(e))});const k={async get(e,s={}){const{fullResponse:a=!1,...n}=s,i=await E.get(e,n);return a?i:i.data},async post(e,s,a={}){const{fullResponse:n=!1,...i}=a,d=await E.post(e,s,i);return n?d:d.data},async put(e,s,a={}){const{fullResponse:n=!1,...i}=a,d=await E.put(e,s,i);return n?d:d.data},async patch(e,s,a={}){const{fullResponse:n=!1,...i}=a,d=await E.patch(e,s,i);return n?d:d.data},async delete(e,s={}){const{fullResponse:a=!1,...n}=s,i=await E.delete(e,n);return a?i:i.data},async upload(e,s,a={}){const n=new FormData;return n.append("file",s),Object.entries(a).forEach(([d,m])=>n.append(d,m)),(await E.post(e,n,{headers:{"Content-Type":"multipart/form-data"}})).data}},f={root:()=>"/api/admin",dashboard:()=>"/api/admin/dashboard",dashboardRecent:()=>"/api/admin/dashboard/recent-bookings",dashboardTopAttractions:()=>"/api/admin/dashboard/top-attractions",dashboardStatus:()=>"/api/admin/dashboard/status-breakdown",dashboardTrend:()=>"/api/admin/dashboard/trend",bookings:()=>"/api/admin/bookings",bookingById:e=>`/api/admin/bookings/${x(e)}`,bookingCancel:e=>`/api/admin/bookings/${x(e)}/cancel`,bookingResendTicket:e=>`/api/admin/bookings/${x(e)}/resend-ticket`,payphiStatus:e=>`/api/admin/bookings/${x(e)}/pay/payphi/status`,payphiInitiate:e=>`/api/admin/bookings/${x(e)}/pay/payphi/initiate`,payphiRefund:e=>`/api/admin/bookings/${x(e)}/pay/payphi/refund`,attractions:()=>"/api/admin/attractions",attractionById:e=>`/api/admin/attractions/${x(e)}`,slots:()=>"/api/admin/slots",slotsBulk:()=>"/api/admin/slots/bulk",slotById:e=>`/api/admin/slots/${x(e)}`,addons:()=>"/api/admin/addons",coupons:()=>"/api/admin/coupons",offers:()=>"/api/admin/offers",combos:()=>"/api/admin/combos",comboById:e=>`/api/admin/combos/${x(e)}`,comboSlots:()=>"/api/admin/combo-slots",comboSlotById:e=>`/api/admin/combo-slots/${x(e)}`,comboSlotsBulk:()=>"/api/admin/combo-slots/bulk",blogs:()=>"/api/admin/blogs",blogById:e=>`/api/admin/blogs/${x(e)}`,blogPreview:()=>"/api/admin/blogs/preview",pages:()=>"/api/admin/pages",pageById:e=>`/api/admin/pages/${x(e)}`,pagePreview:()=>"/api/admin/pages/preview",gallery:()=>"/api/admin/gallery",galleryById:e=>`/api/admin/gallery/${x(e)}`,galleryDelete:e=>`/api/admin/gallery/${x(e)}`,galleryBulkDelete:()=>"/api/admin/gallery/bulk-delete",banners:()=>"/api/admin/banners",bannerById:e=>`/api/admin/banners/${x(e)}`,bannersReorder:()=>"/api/admin/banners/reorder",users:()=>"/api/admin/users",userById:e=>`/api/admin/users/${x(e)}`,settings:()=>"/api/admin/settings",settingKey:e=>`/api/admin/settings/${x(e)}`,notifications:()=>"/api/admin/notifications",notificationById:e=>`/api/admin/notifications/${x(e)}`,holidays:()=>"/api/admin/holidays",holidayById:e=>`/api/admin/holidays/${x(e)}`,happyHours:()=>"/api/admin/happy-hours",happyHourById:e=>`/api/admin/happy-hours/${x(e)}`,roles:()=>"/api/admin/roles",roleById:e=>`/api/admin/roles/${x(e)}`,rolePerms:e=>`/api/admin/roles/${x(e)}/permissions`,permissions:()=>"/api/admin/permissions",permissionById:e=>`/api/admin/permissions/${x(e)}`,analyticsOverview:()=>"/api/admin/analytics/overview",analyticsTrend:()=>"/api/admin/analytics/trend",analyticsTopAttractions:()=>"/api/admin/analytics/top-attractions",analyticsAttractionRevenue:()=>"/api/admin/analytics/attraction-revenue",analyticsComboRevenue:()=>"/api/admin/analytics/combo-revenue",analyticsReport:(e="csv")=>`/api/admin/analytics/report.${e}`,analytics:()=>"/api/admin/analytics"},at=(e,s)=>e&&typeof e=="object"?{message:e.message||s,status:e.status||0,code:e.code||null}:{message:String(e||s)},z=v("adminDashboard/fetchDashboard",async(e,{rejectWithValue:s})=>{try{const[a,n,i,d]=await Promise.all([k.get(f.dashboard()),k.get(f.dashboardRecent()),k.get(f.dashboardTopAttractions()),k.get(f.dashboardStatus())]);return{main:a,recent:n,top:i,status:d}}catch(a){return s(a)}}),st=F({name:"adminDashboard",initialState:{data:null,status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(z.pending,s=>{s.status="loading",s.error=null}),e.addCase(z.fulfilled,(s,a)=>{s.status="succeeded",s.data=a.payload}),e.addCase(z.rejected,(s,a)=>{s.status="failed",s.error=at(a.payload||a.error,"Failed to load dashboard")})}}),nt=st.reducer,D=(e,s)=>e&&typeof e=="object"?{message:e.message||s,status:e.status||0,code:e.code||null}:{message:String(e||s)},B=v("adminBookings/list",async(e={page:1,limit:20},{rejectWithValue:s})=>{try{const a=await k.get(f.bookings(),{params:e});return{data:Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a)?a:[],meta:(a==null?void 0:a.meta)||null,query:e}}catch(a){return s(a)}}),V=v("adminBookings/getOne",async({id:e},{rejectWithValue:s})=>{try{const a=await k.get(f.bookingById(e));return(a==null?void 0:a.booking)||a}catch(a){return s(a)}}),ot=v("adminBookings/update",async({id:e,patch:s},{rejectWithValue:a})=>{try{const n=await k.put(f.bookingById(e),s);return(n==null?void 0:n.booking)||n}catch(n){return a(n)}}),it=v("adminBookings/cancel",async({id:e},{rejectWithValue:s})=>{try{const a=await k.post(f.bookingCancel(e));return(a==null?void 0:a.booking)||a}catch(a){return s(a)}}),rt=v("adminBookings/payphiStatus",async({id:e},{rejectWithValue:s})=>{try{const a=await k.get(f.payphiStatus(e));return{id:e,...a}}catch(a){return s(a)}}),lt=v("adminBookings/payphiInitiate",async({id:e,email:s,mobile:a},{rejectWithValue:n})=>{try{const i=await k.post(f.payphiInitiate(e),{email:s,mobile:a});return{id:e,...i}}catch(i){return n(i)}}),dt=v("adminBookings/payphiRefund",async({id:e,amount:s,newMerchantTxnNo:a},{rejectWithValue:n})=>{try{const i=await k.post(f.payphiRefund(e),{amount:s,newMerchantTxnNo:a});return{id:e,...i}}catch(i){return n(i)}}),ct=v("adminBookings/resendTicket",async({id:e},{rejectWithValue:s})=>{try{const a=await k.post(f.bookingResendTicket(e));return{id:e,...a}}catch(a){return s(a)}}),mt=F({name:"adminBookings",initialState:{list:{status:"idle",data:[],meta:null,error:null,query:{page:1,limit:20}},current:{status:"idle",data:null,error:null},action:{status:"idle",error:null}},reducers:{},extraReducers:e=>{e.addCase(B.pending,s=>{s.list.status="loading",s.list.error=null}),e.addCase(B.fulfilled,(s,a)=>{s.list.status="succeeded",s.list.data=a.payload.data,s.list.meta=a.payload.meta,s.list.query=a.payload.query}),e.addCase(B.rejected,(s,a)=>{s.list.status="failed",s.list.error=D(a.payload||a.error,"Failed to load bookings")}),e.addCase(V.pending,s=>{s.current.status="loading",s.current.error=null,s.current.data=null}),e.addCase(V.fulfilled,(s,a)=>{s.current.status="succeeded",s.current.data=a.payload}),e.addCase(V.rejected,(s,a)=>{s.current.status="failed",s.current.error=D(a.payload||a.error,"Failed to load booking")});for(const s of[ot,it,rt,lt,dt,ct])e.addCase(s.pending,a=>{a.action.status="loading",a.action.error=null}),e.addCase(s.fulfilled,a=>{a.action.status="succeeded"}),e.addCase(s.rejected,(a,n)=>{a.action.status="failed",a.action.error=D(n.payload||n.error,"Action failed")})}}),pt=mt.reducer,X=!1,I="sc_admin_auth",ut=e=>{try{return JSON.parse(e)}catch{return null}},ht=()=>{const e=localStorage.getItem(I);if(!e)return;const s=ut(e);if(s!=null&&s.expires_at){const a=new Date(s.expires_at).getTime();if(Number.isFinite(a)&&Date.now()>=a){localStorage.removeItem(I);return}}return s},yt=e=>{if(!e||!e.token){localStorage.removeItem(I);return}localStorage.setItem(I,JSON.stringify({user:e.user||null,token:e.token,expires_at:e.expires_at||null}))},Ne=Ve();Ne.startListening({predicate:e=>e.type==="adminAuth/setAdminCredentials"||e.type==="adminAuth/adminLogout",effect:(e,s)=>{var n;const a=e.type==="adminAuth/setAdminCredentials"&&((n=e.payload)==null?void 0:n.token)||null;Ee(a),yt(s.getState().adminAuth)}});const R={adminAuth:ht()},T=Be({reducer:{adminAuth:We,adminDashboard:nt,adminBookings:pt},preloadedState:R,middleware:e=>e({serializableCheck:{warnAfter:64},immutableCheck:X}).prepend(Ne.middleware),devTools:X});var je;Ee(((je=R==null?void 0:R.adminAuth)==null?void 0:je.token)||null);Xe({getToken:()=>{var e;return((e=T.getState().adminAuth)==null?void 0:e.token)||null},onUnauthorized:async()=>{var s;((s=T.getState().adminAuth)==null?void 0:s.token)&&T.dispatch(U())}});/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],gt=b("badge-percent",xt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_t=b("bell",bt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],ft=b("boxes",kt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],vt=b("building-2",jt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],At=b("calendar-clock",wt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nt=b("calendar",Et);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ct=b("chart-column",St);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rt=b("clock-3",Lt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ee=b("dollar-sign",Tt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ot=b("eye",It);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],te=b("gift",Pt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ae=b("image",Mt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Dt=b("key-round",zt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Vt=b("layout-dashboard",Bt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Ft=b("newspaper",$t);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ut=b("search",qt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gt=b("shield-check",Ht);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Kt=b("square-split-horizontal",Yt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zt=b("trending-up",Jt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qt=b("user-cog",Wt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],se=b("users",Xt),ea=Object.freeze([]),ta=Object.freeze([]),aa=e=>{const s=e.adminAuth||{},a=s.user||null;return{perms:Array.isArray(s.perms)?s.perms:ea,roles:Array.isArray(a==null?void 0:a.roles)?a.roles:ta,userId:(a==null?void 0:a.user_id)??(a==null?void 0:a.id)??null}};function sa({anyOf:e=[],allOf:s=[],children:a,fallback:n=null}){const{perms:i,roles:d,userId:m}=C(aa,ve),c=h.useMemo(()=>new Set(d.map(_=>String(_).toLowerCase())),[d]);if(m!=null&&Number(m)===1||c.has("root")||c.has("superadmin"))return a;const g=s.length?s.every(_=>i.includes(_)):!0,y=e.length?e.some(_=>i.includes(_)):!0;return g&&y?a:n||null}const na="group relative flex items-center gap-3 px-3 py-2 rounded-xl text-sm transition-colors",ne="sc_admin_sidebar_open_sections";function oa(e){return e?typeof e=="string"?e.toLowerCase().trim():String(e.role_name||e.name||e).toLowerCase().trim():""}function ia(e){const[s,a]=h.useState(()=>{try{const d=localStorage.getItem(ne);if(!d)return e;const m=JSON.parse(d);return typeof m=="object"&&m?{...e,...m}:e}catch{return e}}),n=h.useCallback(d=>{a(d);try{localStorage.setItem(ne,JSON.stringify(d))}catch{}},[]),i=h.useCallback((d,m)=>{n({...s,[d]:!!m})},[s,n]);return[s,i]}const ra=Object.freeze([]),la=Object.freeze([]),da=e=>{const s=e.adminAuth||{},a=s.user||null;return{roles:Array.isArray(a==null?void 0:a.roles)?a.roles:ra,perms:Array.isArray(s.perms)?s.perms:la,userId:(a==null?void 0:a.user_id)??(a==null?void 0:a.id)??null}};function oe({collapsed:e,onClose:s}){const a=$e(),{roles:n,perms:i,userId:d}=C(da,ve),m=h.useMemo(()=>(n||[]).map(oa),[n]),c=h.useMemo(()=>new Set((i||[]).map(u=>String(u).toLowerCase().trim())),[i]),g=d!=null&&Number(d)===1||m.includes("root")||m.includes("superadmin")||c.has("admin-management:manage")||c.has("admin-management:write")||c.has("admin-management:read")||c.has("admins:manage")||c.has("admins:write")||c.has("admins:read"),y=()=>{typeof s=="function"&&s()},[_,Te]=h.useState(""),O=h.useMemo(()=>{const u=[{key:"Dashboard",label:"Overview",items:[{to:"/admin",end:!0,label:"Executive Dashboard",icon:Vt}]},{key:"Analytics",label:"Analytics",items:[{to:"/admin/analytics/overview",label:"Overview",icon:Ct},{to:"/admin/analytics/attractions",label:"Attractions",icon:vt},{to:"/admin/analytics/daily",label:"Daily Trend",icon:Zt},{to:"/admin/analytics/split",label:"Split Analysis",icon:Kt},{to:"/admin/analytics/custom",label:"Custom Report",icon:W},{to:"/admin/analytics/people",label:"People",icon:se},{to:"/admin/analytics/views",label:"Views",icon:Ot},{to:"/admin/revenue/attractions",label:"Attraction Revenue",icon:ee},{to:"/admin/revenue/combos",label:"Combo Revenue",icon:ee}]},{key:"Bookings",label:"Bookings",items:[{to:"/admin/bookings",label:"All Bookings",icon:At},{to:"/admin/bookings/calendar",label:"Booking Calendar",icon:Nt},{to:"/admin/bookings/slots",label:"Time Slots",icon:Rt}]},{key:"Catalog",label:"Catalog",items:[{to:"/admin/catalog/attractions",label:"Attractions",icon:te},{to:"/admin/catalog/addons",label:"Add-ons",icon:te},{to:"/admin/catalog/combos",label:"Combos",icon:ft},{to:"/admin/catalog/offers",label:"Offers",icon:gt},{to:"/admin/catalog/coupons",label:"Coupons",icon:Ke},{to:"/admin/catalog/banners",label:"Banners",icon:ae},{to:"/admin/catalog/gallery",label:"Gallery",icon:ae},{to:"/admin/catalog/pages",label:"Pages",icon:W},{to:"/admin/catalog/blogs",label:"Blogs",icon:Ft}]},...m.includes("subadmin")&&!m.includes("admin")&&!m.includes("root")&&!m.includes("superadmin")?[]:[{key:"AdminManagement",label:"People",items:[{to:"/admin/users",label:"Customers",icon:se},{to:"/admin/roles",label:"Admin Roles",icon:Gt},...g?[{to:"/admin/admins",label:"Admin Team",icon:Qt,permsAny:["admin-management:read"]},{to:"/admin/admins/access",label:"Grant Access",icon:Dt,permsAny:["admin-management:write","admin-management:manage"]}]:[]]}]];if(_.trim()==="")return u;const j=_.trim().toLowerCase();return u.map(w=>{const A=w.items.filter(L=>L.label.toLowerCase().includes(j));return A.length?{...w,items:A}:null}).filter(Boolean)},[g,_]),Ie=h.useMemo(()=>({Dashboard:!0,Analytics:!1,Bookings:!0,Catalog:!0,AdminManagement:!0,UsersRBAC:!1}),[]),[P,G]=ia(Ie);h.useEffect(()=>{const u=a.pathname||"";for(const j of O)j.items.some(A=>u.startsWith(A.to))&&!P[j.key]&&G(j.key,!0)},[a.pathname,O]);const Oe=u=>G(u,!P[u]),Pe=h.useCallback((u,j=!1)=>{if(!u)return!1;const w=a.pathname||"";return j?w===u:u==="/admin"?w==="/admin":w.startsWith(u)},[a.pathname]);return t.jsxs("aside",{className:["h-screen sticky top-0 border-r border-white/20 dark:border-neutral-900/60 bg-gradient-to-b from-white/90 via-white to-white/60 dark:from-neutral-950 dark:via-neutral-950 dark:to-neutral-900 backdrop-blur-xl transition-[width] duration-200 ease-in-out shadow-[0_10px_40px_rgba(15,23,42,0.08)] dark:shadow-none",e?"w-20":"w-72"].join(" "),"aria-label":"Admin navigation",children:[t.jsxs("div",{className:"px-4 py-5 flex items-center justify-between border-b border-gray-200/50 dark:border-neutral-900/60",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold shadow-lg shadow-blue-500/30",children:"SC"}),!e&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-neutral-100",children:"SnowCity Admin"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400",children:"Experience Excellence"})]})]}),t.jsx("button",{className:"md:hidden rounded-full p-2 text-gray-500 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800",onClick:s,"aria-label":"Close navigation",children:"✕"})]}),!e&&t.jsx("div",{className:"px-4 pt-4",children:t.jsx("label",{className:"relative block",children:t.jsx("input",{type:"search",value:_,onChange:u=>Te(u.target.value),placeholder:"Quick find…",className:"w-full rounded-2xl border border-gray-200/80 bg-white/80 dark:bg-neutral-900 px-3 py-2 text-sm text-gray-700 dark:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})})}),t.jsx("nav",{className:"px-3 pb-4 h-[calc(100vh-140px)] overflow-y-auto",children:O.map(u=>{var w;if(!((w=u.items)!=null&&w.length))return null;const j=!!P[u.key];return t.jsxs("div",{className:"mt-3 first:mt-0",children:[t.jsxs("button",{type:"button",className:["w-full flex items-center justify-between px-3 py-2 rounded-2xl text-xs font-semibold tracking-wide uppercase","text-gray-500 dark:text-neutral-400 hover:bg-gray-100/70 dark:hover:bg-neutral-800/70 backdrop-blur"].join(" "),onClick:()=>Oe(u.key),"aria-expanded":j,"aria-controls":`section-${u.key}`,title:e?u.label:void 0,children:[!e&&t.jsx("span",{className:"font-medium",children:u.label}),e&&t.jsx("span",{className:"font-medium","aria-hidden":"true",children:u.label.charAt(0)}),t.jsx(Ye,{className:["h-4 w-4 shrink-0 transition-transform",j?"rotate-180":""].join(" ")})]}),t.jsx("div",{id:`section-${u.key}`,className:["overflow-hidden transition-all",j?"max-h-[1200px] ease-in":"max-h-0 ease-out"].join(" "),children:t.jsx("div",{className:"mt-1 space-y-1",children:u.items.map(({to:A,end:L,label:Y,icon:Me,permsAny:K,permsAll:J})=>{const Z=t.jsxs(Fe,{to:A,end:L,title:e?Y:void 0,className:({isActive:ze})=>[na,e?"justify-center px-2":"justify-start px-3",ze?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-600 dark:text-neutral-300 hover:bg-gray-100/80 dark:hover:bg-neutral-800"].join(" "),onClick:y,children:[t.jsx(Me,{className:"h-5 w-5","aria-hidden":"true"}),!e&&t.jsx("span",{children:Y})]},A);return K||J?t.jsx(sa,{anyOf:K||[],allOf:J||[],children:Z},A):t.jsxs("div",{className:"relative",children:[Z,Pe(A,L)&&!e&&t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":"true"})]},A)})})})]},u.key)})}),t.jsx("div",{className:"px-4 pb-5",children:t.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-slate-900 via-indigo-900 to-blue-700 text-white p-4 shadow-lg",children:[t.jsx("p",{className:"text-sm font-semibold mb-1",children:"Need quick access?"}),t.jsx("p",{className:"text-xs text-white/80 mb-3",children:"Jump to bookings or reach support instantly."}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx($,{to:"/admin/bookings",className:"inline-flex items-center justify-center rounded-full bg-white/10 px-3 py-1.5 text-xs font-semibold hover:bg-white/20",onClick:y,children:"Go to Bookings"}),t.jsx("a",{href:"mailto:support@snowcity.com",className:"inline-flex items-center justify-center rounded-full bg-white text-slate-900 px-3 py-1.5 text-xs font-semibold",children:"Contact Support"})]})]})})]})}const Se="sc_admin_theme",ca=()=>localStorage.getItem(Se)||"system",Ce=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,ie=e=>{const s=document.documentElement,a=e==="dark"||e==="system"&&Ce();s.classList.toggle("dark",!!a)};function Le(){const[e,s]=h.useState(ca());h.useEffect(()=>{ie(e),localStorage.setItem(Se,e)},[e]),h.useEffect(()=>{if(e!=="system")return;const n=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>ie("system");return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[e]);const a=e==="dark"||e==="system"&&Ce();return{theme:e,setTheme:s,isDark:a}}function re({compact:e=!1}){const{theme:s,setTheme:a}=Le();return t.jsxs("div",{className:`inline-flex items-center gap-1 ${e?"":"p-1 border rounded-lg bg-white dark:bg-neutral-900 dark:border-neutral-700"}`,children:[t.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="light"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("light"),children:"Light"}),t.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="dark"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("dark"),children:"Dark"}),t.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="system"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("system"),children:"System"})]})}const ma=[{label:"Reports",to:"/admin/analytics/overview"},{label:"Offers",to:"/admin/catalog/offers"}];function pa({onToggleSidebar:e,onToggleMobile:s}){const a=C(y=>{var _;return(_=y.adminAuth)==null?void 0:_.user}),n=q(),i=((a==null?void 0:a.name)||(a==null?void 0:a.email)||"A").charAt(0).toUpperCase(),[d,m]=h.useState(!1),[c,p]=h.useState(""),g=h.useRef(null);return h.useEffect(()=>{const y=_=>{g.current&&!g.current.contains(_.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),t.jsx("header",{className:"sticky top-0 z-40 bg-white/90 dark:bg-neutral-900/80 backdrop-blur supports-[backdrop-filter]:bg-white/70 border-b border-gray-200 dark:border-neutral-800",children:t.jsxs("div",{className:"h-16 px-3 md:px-6 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"md:hidden rounded-xl border border-gray-200 px-3 py-2 text-gray-600",onClick:s,"aria-label":"Open navigation",children:"☰"}),t.jsx("button",{className:"hidden md:inline-flex rounded-xl border border-gray-200 px-3 py-2 text-gray-600",onClick:e,"aria-label":"Toggle navigation",children:"☰"}),t.jsxs("div",{className:"hidden md:flex flex-col",children:[t.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"SnowCity Admin"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Operations Control"})]})]}),t.jsxs("div",{className:"flex-1 flex items-center gap-3 max-w-3xl",children:[t.jsxs("label",{className:"flex-1 relative",children:[t.jsx(Ut,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"search",value:c,onChange:y=>p(y.target.value),placeholder:"Search bookings, users, offers...",className:"w-full rounded-full border border-gray-200 bg-white px-10 py-2 text-sm shadow-sm focus:border-gray-400 focus:outline-none"})]}),t.jsx("div",{className:"hidden lg:flex items-center gap-2",children:ma.map(y=>t.jsx($,{to:y.to,className:"rounded-full border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:border-gray-400",children:y.label},y.to))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"hidden md:inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-200 text-gray-500","aria-label":"Notifications",children:t.jsx(_t,{className:"h-4 w-4"})}),t.jsx("div",{className:"hidden md:block",children:t.jsx(re,{compact:!0})}),t.jsxs("div",{className:"relative",ref:g,children:[t.jsx("button",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-gray-900 to-gray-700 text-white flex items-center justify-center",title:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"Profile",onClick:()=>m(y=>!y),children:i}),d&&t.jsxs("div",{className:"absolute right-0 top-full mt-3 w-64 rounded-2xl border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 shadow-xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-neutral-50",children:(a==null?void 0:a.name)||"Admin user"}),t.jsx("p",{className:"text-xs text-gray-500",children:a==null?void 0:a.email})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800"}),t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Theme"}),t.jsx(re,{})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800"}),t.jsx($,{to:"/admin/profile",className:"block px-4 py-3 text-sm text-gray-700 dark:text-neutral-200 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>m(!1),children:"Profile & Settings"}),t.jsx("button",{className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>{m(!1),n(U())},children:"Logout"})]})]})]})]})})}const ua=v("adminAuth/adminLogin",async({email:e,password:s},{dispatch:a,rejectWithValue:n})=>{var i,d,m,c;try{const p=await qe.post(Ue.auth.login(),{email:e,password:s,isAdmin:!0}),g=p==null?void 0:p.token;if(!g)throw new Error("No token from login");return a(Ze({user:{...p==null?void 0:p.user,isAdmin:!0},token:g,expires_at:(p==null?void 0:p.expires_at)||null})),await a(Re()).unwrap(),p}catch(p){a(U());const g=((d=(i=p==null?void 0:p.response)==null?void 0:i.data)==null?void 0:d.error)||((c=(m=p==null?void 0:p.response)==null?void 0:m.data)==null?void 0:c.message)||(p==null?void 0:p.message)||"Login failed";return n(g)}}),Re=v("adminAuth/hydratePerms",async(e,{dispatch:s,rejectWithValue:a})=>{var n,i,d,m;try{const c=["all"];return s(Q(c)),c}catch(c){s(Q([]));const p=((i=(n=c==null?void 0:c.response)==null?void 0:n.data)==null?void 0:i.error)||((m=(d=c==null?void 0:c.response)==null?void 0:d.data)==null?void 0:m.message)||(c==null?void 0:c.message)||"Failed to hydrate permissions";return a(p)}});function ha(){const[e,s]=h.useState(!1),[a,n]=h.useState(!1),i=q();return Le(),h.useEffect(()=>{i(Re()).catch(()=>{})},[i]),t.jsxs("div",{className:"min-h-screen bg-slate-100/60 dark:bg-neutral-950",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 z-0 opacity-60",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.12),transparent_45%)]"}),t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(14,165,233,0.09),transparent_50%)]"})]}),t.jsxs("div",{className:"relative z-10 flex",children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(oe,{collapsed:e,onClose:()=>{}})}),a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>n(!1)}),t.jsx("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white dark:bg-neutral-900 z-50 shadow-lg",children:t.jsx(oe,{collapsed:!1,onClose:()=>n(!1)})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(pa,{onToggleSidebar:()=>s(d=>!d),onToggleMobile:()=>n(d=>!d)}),t.jsx("div",{className:"p-4 md:p-6",children:t.jsx(we,{})})]})]})]})}function ya(){const e=q(),s=C(g=>{var y;return(y=g.adminAuth)==null?void 0:y.token}),[a,n]=h.useState({email:"",password:""}),[i,d]=h.useState("idle"),[m,c]=h.useState(null);if(s)return t.jsx(S,{to:"/admin",replace:!0});const p=async g=>{g.preventDefault(),d("loading"),c(null);try{await e(ua(a)).unwrap()}catch(y){c((y==null?void 0:y.message)||"Login failed"),d("failed")}};return t.jsx("div",{className:"min-h-screen grid place-items-center bg-gray-50 px-4",children:t.jsxs("form",{onSubmit:p,className:"w-full max-w-sm bg-white rounded-xl border p-6 shadow",children:[t.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Admin Login"}),t.jsx("label",{className:"block text-sm mb-1",children:"Email"}),t.jsx("input",{className:"w-full rounded-md border px-3 py-2 mb-3",type:"email",value:a.email,onChange:g=>n({...a,email:g.target.value})}),t.jsx("label",{className:"block text-sm mb-1",children:"Password"}),t.jsx("input",{className:"w-full rounded-md border px-3 py-2 mb-3",type:"password",value:a.password,onChange:g=>n({...a,password:g.target.value})}),m?t.jsx("div",{className:"text-sm text-red-600 mb-2",children:m}):null,t.jsx("button",{className:"w-full rounded-md bg-gray-900 text-white py-2 text-sm",disabled:i==="loading",children:i==="loading"?"Signing in…":"Sign in"})]})})}const xa=r.lazy(()=>l(()=>import("./AdminsList-CaVGHqw2.js"),__vite__mapDeps([0,1,2,3,4,5]))),ga=r.lazy(()=>l(()=>import("./AdminNew-D3K-0e2f.js"),__vite__mapDeps([6,1,2,3,4,5]))),le=r.lazy(()=>l(()=>import("./AdminAccess-Ds259bUf.js"),__vite__mapDeps([7,1,2,3,4,5]))),ba=r.lazy(()=>l(()=>import("./Dashboard-bxPxJUz0.js"),__vite__mapDeps([8,1,2,9,10,11,12,13,14,15,16,3,4,5]))),_a=r.lazy(()=>l(()=>import("./BookingsList-89dueVqZ.js"),__vite__mapDeps([17,1,2,18,19,20,3,4,10,11,12,13,14,5]))),ka=r.lazy(()=>l(()=>import("./BookingDetails-DwPvfH7L.js"),__vite__mapDeps([21,1,2,3,4,5]))),fa=r.lazy(()=>l(()=>import("./AttractionsList-TgyGKRgu.js"),__vite__mapDeps([22,1,2,18,23,3,4,5]))),de=r.lazy(()=>l(()=>import("./AttractionForm-H0cdSU8l.js"),__vite__mapDeps([24,1,2,25,26,3,4,5]))),ja=r.lazy(()=>l(()=>import("./SlotList-BGJ7DSWo.js"),__vite__mapDeps([27,1,2,18,3,4,5]))),ce=r.lazy(()=>l(()=>import("./SlotForm-De0i1jo4.js"),__vite__mapDeps([28,1,2,3,4,5]))),va=r.lazy(()=>l(()=>import("./SlotBulk-9M7y00p6.js"),__vite__mapDeps([29,1,2,3,4,5]))),wa=r.lazy(()=>l(()=>import("./AddonsList-FFmMc3b6.js"),__vite__mapDeps([30,1,2,18,3,4,5]))),me=r.lazy(()=>l(()=>import("./AddonForm-Byparm9Z.js"),__vite__mapDeps([31,1,2,25,26,3,4,5]))),Aa=r.lazy(()=>l(()=>import("./OffersList-BUf77Hvd.js"),__vite__mapDeps([32,1,2,18,3,4,5]))),pe=r.lazy(()=>l(()=>import("./OfferForm-CTCypQCn.js"),__vite__mapDeps([33,1,2,25,26,34,3,4,5]))),Ea=r.lazy(()=>l(()=>import("./CouponsList-DTYtkmQ1.js"),__vite__mapDeps([35,1,2,18,19,3,4,5]))),ue=r.lazy(()=>l(()=>import("./CouponForm-9V6g2yn5.js"),__vite__mapDeps([36,1,2,3,4,5]))),Na=r.lazy(()=>l(()=>import("./BannersList-CsErXbg5.js"),__vite__mapDeps([37,1,2,18,23,3,4,5]))),he=r.lazy(()=>l(()=>import("./BannerForm-BIUA7nsM.js"),__vite__mapDeps([38,1,2,25,26,3,4,5]))),Sa=r.lazy(()=>l(()=>import("./PagesList-BqRnKy8F.js"),__vite__mapDeps([39,1,2,3,4,5]))),ye=r.lazy(()=>l(()=>import("./PageForm-uA_LqcJX.js"),__vite__mapDeps([40,1,2,41,25,26,34,3,4,5]))),Ca=r.lazy(()=>l(()=>import("./BlogsList-DdTP2nxM.js"),__vite__mapDeps([42,1,2,18,26,3,4,5]))),xe=r.lazy(()=>l(()=>import("./BlogForm-D4Was5mr.js"),__vite__mapDeps([43,1,2,25,26,41,3,4,5]))),La=r.lazy(()=>l(()=>import("./CombosList-OW6L-UjY.js"),__vite__mapDeps([44,1,2,18,3,4,5]))),ge=r.lazy(()=>l(()=>import("./ComboForm-D3zhHVXc.js"),__vite__mapDeps([45,1,2,25,26,3,4,5]))),Ra=r.lazy(()=>l(()=>import("./AttractionSlotList-BBKHcmdD.js"),__vite__mapDeps([46,1,2,3,4,5]))),Ta=r.lazy(()=>l(()=>import("./GalleryManager-CE_t4jzT.js"),__vite__mapDeps([47,1,2,18,26,3,4,5]))),be=r.lazy(()=>l(()=>import("./GalleryForm-zkXPGl3a.js"),__vite__mapDeps([48,1,2,25,26,34,3,4,5]))),Ia=r.lazy(()=>l(()=>import("./ComboSlotList-CEDnKxo5.js"),__vite__mapDeps([49,1,2,3,4,5]))),_e=r.lazy(()=>l(()=>import("./ComboSlotForm-DxzF6PWe.js"),__vite__mapDeps([50,1,2,3,4,5]))),Oa=r.lazy(()=>l(()=>import("./ComboSlotBulk-DFIZodaR.js"),__vite__mapDeps([51,1,2,3,4,5]))),Pa=r.lazy(()=>l(()=>import("./UsersList-DXJjqtB7.js"),__vite__mapDeps([52,1,2,18,19,3,4,5]))),Ma=r.lazy(()=>l(()=>import("./UserEdit-YqjQacFk.js"),__vite__mapDeps([53,1,2,3,4,5]))),za=r.lazy(()=>l(()=>import("./RolesList-Crkn7DHk.js"),__vite__mapDeps([54,1,2,18,3,4,5]))),ke=r.lazy(()=>l(()=>import("./RoleForm-zwlLDZiz.js"),__vite__mapDeps([55,1,2,3,4,5]))),Da=r.lazy(()=>l(()=>import("./Overview-CNBGfEip.js"),__vite__mapDeps([56,1,2,9,3,4,5]))),Ba=r.lazy(()=>l(()=>import("./Attractions-CkXdvk10.js"),__vite__mapDeps([57,1,2,10,11,12,15,16,3,4,5]))),Va=r.lazy(()=>l(()=>import("./Daily-BhbgcUJL.js"),__vite__mapDeps([58,1,2,10,11,12,59,16,14,13,3,4,5]))),$a=r.lazy(()=>l(()=>import("./Custom-Cq4FeXGt.js"),__vite__mapDeps([60,1,2,10,11,12,13,14,3,4,5]))),Fa=r.lazy(()=>l(()=>import("./People-BbqgbM2c.js"),__vite__mapDeps([61,1,2,10,11,12,13,14,3,4,5]))),qa=r.lazy(()=>l(()=>import("./Views-BVEZM4RV.js"),__vite__mapDeps([62,1,2,10,11,12,13,14,3,4,5]))),Ua=r.lazy(()=>l(()=>import("./Split-DkniXslq.js"),__vite__mapDeps([63,1,2,10,11,12,59,16,14,3,4,5]))),Ha=r.lazy(()=>l(()=>import("./TopAttractions-B60J5xfu.js"),__vite__mapDeps([64,1,2,3,4,5]))),Ga=r.lazy(()=>l(()=>import("./AttractionRevenue-vk6as7AU.js"),__vite__mapDeps([65,1,2,20,3,4,5]))),Ya=r.lazy(()=>l(()=>import("./ComboRevenue-CE4fS_9r.js"),__vite__mapDeps([66,1,2,20,3,4,5])));function Ka({children:e}){return C(a=>{var n;return(n=a.adminAuth)==null?void 0:n.token})?e:t.jsx(S,{to:"login",replace:!0})}function fe(){return t.jsx(r.Suspense,{fallback:t.jsx("div",{className:"p-4 text-sm",children:"Loading…"}),children:t.jsx(we,{})})}function Ja(){return t.jsxs(He,{children:[t.jsx(o,{path:"login",element:t.jsx(ya,{})}),t.jsx(o,{path:"/",element:t.jsx(Ka,{children:t.jsx(ha,{})}),children:t.jsxs(o,{element:t.jsx(fe,{}),children:[t.jsx(o,{index:!0,element:t.jsx(ba,{})}),t.jsxs(o,{path:"analytics",element:t.jsx(fe,{}),children:[t.jsx(o,{index:!0,element:t.jsx(S,{to:"overview",replace:!0})}),t.jsx(o,{path:"overview",element:t.jsx(Da,{})}),t.jsx(o,{path:"attractions",element:t.jsx(Ba,{})}),t.jsx(o,{path:"daily",element:t.jsx(Va,{})}),t.jsx(o,{path:"custom",element:t.jsx($a,{})}),t.jsx(o,{path:"people",element:t.jsx(Fa,{})}),t.jsx(o,{path:"views",element:t.jsx(qa,{})}),t.jsx(o,{path:"split",element:t.jsx(Ua,{})}),t.jsx(o,{path:"top-attractions",element:t.jsx(Ha,{})})]}),t.jsx(o,{path:"bookings",element:t.jsx(_a,{})}),t.jsx(o,{path:"bookings/:id",element:t.jsx(ka,{})}),t.jsx(o,{path:"catalog/attractions",element:t.jsx(fa,{})}),t.jsx(o,{path:"catalog/attractions/new",element:t.jsx(de,{})}),t.jsx(o,{path:"catalog/attractions/:id",element:t.jsx(de,{})}),t.jsx(o,{path:"catalog/slots",element:t.jsx(ja,{})}),t.jsx(o,{path:"catalog/slots/bulk",element:t.jsx(va,{})}),t.jsx(o,{path:"catalog/slots/new",element:t.jsx(ce,{})}),t.jsx(o,{path:"catalog/slots/:id",element:t.jsx(ce,{})}),t.jsx(o,{path:"catalog/addons",element:t.jsx(wa,{})}),t.jsx(o,{path:"catalog/addons/new",element:t.jsx(me,{})}),t.jsx(o,{path:"catalog/addons/:id",element:t.jsx(me,{})}),t.jsx(o,{path:"catalog/offers",element:t.jsx(Aa,{})}),t.jsx(o,{path:"catalog/offers/new",element:t.jsx(pe,{})}),t.jsx(o,{path:"catalog/offers/:id",element:t.jsx(pe,{})}),t.jsx(o,{path:"catalog/coupons",element:t.jsx(Ea,{})}),t.jsx(o,{path:"catalog/coupons/new",element:t.jsx(ue,{})}),t.jsx(o,{path:"catalog/coupons/:id",element:t.jsx(ue,{})}),t.jsx(o,{path:"catalog/combo-slots",element:t.jsx(Ia,{})}),t.jsx(o,{path:"catalog/combo-slots/new",element:t.jsx(_e,{})}),t.jsx(o,{path:"catalog/combo-slots/:id",element:t.jsx(_e,{})}),t.jsx(o,{path:"catalog/combo-slots/bulk",element:t.jsx(Oa,{})}),t.jsx(o,{path:"catalog/attraction-slots",element:t.jsx(Ra,{})}),t.jsx(o,{path:"catalog/banners",element:t.jsx(Na,{})}),t.jsx(o,{path:"catalog/banners/new",element:t.jsx(he,{})}),t.jsx(o,{path:"catalog/banners/:id",element:t.jsx(he,{})}),t.jsx(o,{path:"catalog/pages",element:t.jsx(Sa,{})}),t.jsx(o,{path:"catalog/pages/new",element:t.jsx(ye,{})}),t.jsx(o,{path:"catalog/pages/:id",element:t.jsx(ye,{})}),t.jsx(o,{path:"catalog/blogs",element:t.jsx(Ca,{})}),t.jsx(o,{path:"catalog/blogs/new",element:t.jsx(xe,{})}),t.jsx(o,{path:"catalog/blogs/:id",element:t.jsx(xe,{})}),t.jsx(o,{path:"catalog/combos",element:t.jsx(La,{})}),t.jsx(o,{path:"catalog/combos/new",element:t.jsx(ge,{})}),t.jsx(o,{path:"catalog/combos/:id",element:t.jsx(ge,{})}),t.jsx(o,{path:"catalog/gallery",element:t.jsx(Ta,{})}),t.jsx(o,{path:"catalog/gallery/new",element:t.jsx(be,{})}),t.jsx(o,{path:"catalog/gallery/:id",element:t.jsx(be,{})}),t.jsx(o,{path:"users",element:t.jsx(Pa,{})}),t.jsx(o,{path:"users/:id",element:t.jsx(Ma,{})}),t.jsx(o,{path:"roles",element:t.jsx(za,{})}),t.jsx(o,{path:"roles/new",element:t.jsx(ke,{})}),t.jsx(o,{path:"roles/:id",element:t.jsx(ke,{})}),t.jsx(o,{path:"admins",element:t.jsx(xa,{})}),t.jsx(o,{path:"admins/new",element:t.jsx(ga,{})}),t.jsx(o,{path:"admins/access",element:t.jsx(le,{})}),t.jsx(o,{path:"admins/:id/access",element:t.jsx(le,{})}),t.jsx(o,{path:"revenue/attractions",element:t.jsx(Ga,{})}),t.jsx(o,{path:"revenue/combos",element:t.jsx(Ya,{})}),t.jsx(o,{path:"*",element:t.jsx(S,{to:".",replace:!0})})]})}),t.jsx(o,{path:"*",element:t.jsx(S,{to:"/admin",replace:!0})})]})}class Za extends h.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){}render(){var s;return this.state.hasError?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600",children:((s=this.state.error)==null?void 0:s.message)||"Unknown error"})]}):this.props.children}}function Wa(){return t.jsx(Ge,{store:T,children:t.jsx(Za,{children:t.jsx(r.Suspense,{fallback:t.jsx("div",{className:"p-6",children:"Loading admin…"}),children:t.jsx(Ja,{})})})})}const as=Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"}));export{f as A,k as a,lt as b,dt as c,it as d,as as e,V as g,B as l,rt as p,ct as r,ot as u};
