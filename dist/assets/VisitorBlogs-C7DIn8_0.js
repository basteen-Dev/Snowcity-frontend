import{h as m,u as x,R as u,y as l,j as e,z as h,L as p}from"./index-DpUnVvi7.js";import{E as g}from"./ErrorState-maGIkZl4.js";import{i as f}from"./media-CQLQFIy8.js";const j=s=>s?s.slug?`/${s.slug}`:s.blog_id||s.id?`/${s.blog_id||s.id}`:"#":"#",v=s=>{if(!s)return"1 min read";const r=200,i=s.replace(/<[^>]*>/g,"").split(/\s+/).length;return`${Math.ceil(i/r)} min read`},y=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";function k(){var o;const s=m(),r=x(t=>t.blogs);u.useEffect(()=>{r.status==="idle"&&s(l({active:!0,limit:12,page:1}))},[s,r.status]);const i=()=>{const t=r.currentPage+1;s(l({active:!0,limit:12,page:t}))},a=r.items||[];return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white px-4 pt-20 pb-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("header",{className:"mb-12 text-center",children:[e.jsx("p",{className:"uppercase text-xs tracking-[0.3em] text-blue-500 font-medium",children:"Visitor Stories"}),e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mt-4 text-gray-900",children:"SnowCity Blog"}),e.jsx("p",{className:"text-gray-600 mt-6 max-w-3xl mx-auto text-lg leading-relaxed",children:"Discover tips, behind-the-scenes stories, and guest experiences to make your SnowCity adventure unforgettable."})]}),r.status==="loading"&&!a.length?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(h,{})}):null,r.status==="failed"?e.jsx(g,{message:((o=r.error)==null?void 0:o.message)||"Failed to load blogs",onRetry:()=>s(l({active:!0,limit:12,page:1}))}):null,a.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:a.map(t=>{const c=f(t),d=v(t.content),n=y(t.created_at);return e.jsx("article",{className:"group bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:e.jsxs(p,{to:j(t),className:"block",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[c?e.jsx("img",{src:c,alt:t.title||"Blog post",className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:e.jsx("div",{className:"text-blue-500 text-4xl",children:"üìù"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[n&&e.jsx("span",{children:n}),n&&d&&e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:d})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-3",children:t.title||"Blog article"}),t.author&&e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["By ",e.jsx("span",{className:"font-medium",children:t.author})]}),(t.short_description||t.excerpt||t.content)&&e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3 mb-4",children:t.short_description||t.excerpt||(t.content?t.content.replace(/<[^>]*>/g,"").substring(0,120)+"...":"")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"inline-flex items-center text-sm font-medium text-blue-600 group-hover:text-blue-700 transition-colors",children:["Read more",e.jsx("svg",{className:"ml-1 w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.section_type&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.section_type})]})]})]})},t.blog_id||t.id||t.slug)})}),r.status!=="loading"&&r.hasMore&&a.length>0&&e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:i,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-full hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",children:["Load More Articles",e.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),!a.length&&r.status==="succeeded"?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üìù"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No blog posts yet"}),e.jsx("p",{className:"text-gray-600",children:"Fresh stories are coming soon. Check back later!"})]}):null]})})}export{k as default};
