const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminsList-Ds8Xp8BL.js","assets/index-C5Mz9dTM.js","assets/index-D5Jqzt5t.css","assets/createLucideIcon-DQ6FqzLt.js","assets/file-text-CQ7rExmv.js","assets/ticket-C3bgGsni.js","assets/AdminNew-ChkT61ba.js","assets/AdminAccess-CsdP7CIY.js","assets/Dashboard-DcbZMiSg.js","assets/formatters-CmiLqhJj.js","assets/CategoricalChart-CsUPHP5M.js","assets/clsx-B-dksMZM.js","assets/index-CCCQe3aM.js","assets/LineChart-nQj6CBM0.js","assets/CartesianChart-D0sgDsXG.js","assets/PieChart-BGt-r5v1.js","assets/tooltipContext-agcBB9jA.js","assets/BookingsList-DcQSLJ8m.js","assets/AdminTable-8G2GjJdl.js","assets/AdminPagination-C9Z8I57A.js","assets/file-spreadsheet-CvOIwlYL.js","assets/BookingDetails-pMZUV5GP.js","assets/AttractionsList-By-L3Rpy.js","assets/sortable.esm-BscC2RYw.js","assets/AttractionForm-Dh4K1sSx.js","assets/ImageUploader-DAvc2Cys.js","assets/media-DDlhmRHE.js","assets/SaveOverlay-BfdxJ8IN.js","assets/SlotList-CznrDuTl.js","assets/SlotForm-D5x5O81z.js","assets/SlotBulk-B06xPEMs.js","assets/AddonsList-B9oA5moj.js","assets/AddonForm-BGt__e_w.js","assets/OffersList-DycbR88T.js","assets/OfferForm-D7nPDIs2.js","assets/useCatalogTargets-DhWrb5ei.js","assets/CouponsList-C_n9JCU9.js","assets/CouponForm-D7eDB4nx.js","assets/BannersList-BRizMlQ0.js","assets/BannerForm-DdxG3ght.js","assets/PagesList-Bzl1s5dh.js","assets/PageForm-YxDki1wy.js","assets/GalleryField-FcQIb-ma.js","assets/BlogsList-jqyhdtGP.js","assets/BlogForm-BgRnSg8K.js","assets/CombosList-HjPjS9nE.js","assets/ComboForm-D5smXlW_.js","assets/AttractionSlotList-wzF0R0mp.js","assets/GalleryManager--qFtAi-j.js","assets/GalleryForm-DP4a3p7m.js","assets/ComboSlotList-DR9KV-kr.js","assets/ComboSlotForm-Di1CfQ6g.js","assets/ComboSlotBulk-CZR7UChW.js","assets/DynamicPricing-BP412B4k.js","assets/UsersList-CjHYUCSR.js","assets/UserEdit-COn1qVFU.js","assets/RolesList-DJorQZGp.js","assets/RoleForm-B2LNw4lb.js","assets/Overview-s3xJ-Qhp.js","assets/Attractions-Dp_89J9N.js","assets/Daily-Cl3rZjzk.js","assets/BarChart-DvV3gu1n.js","assets/Custom-soyN67D2.js","assets/People-D28e55W4.js","assets/Views-CiPiw7Nw.js","assets/Split-BEtoNRi7.js","assets/TopAttractions-DBViEtmt.js","assets/AttractionRevenue-Hx3ZLN-1.js","assets/ComboRevenue-DWedHMcB.js"])))=>i.map(i=>d[i]);
import{c as U,a as ze,e as x,b as _,d as Be,f as $e,u as I,s as Ne,R as h,g as Ve,j as e,L as P,N as Fe,h as W,i as qe,k as He,O as Ae,l as C,m as Ue,n as We,o as n,r as c,_ as u,P as Ye}from"./index-C5Mz9dTM.js";import{c as f}from"./createLucideIcon-DQ6FqzLt.js";import{F as ee,C as Ge}from"./file-text-CQ7rExmv.js";import{T as Ke}from"./ticket-C3bgGsni.js";const Je={user:null,token:null,expires_at:null,checked:!1,perms:[]},Ee=U({name:"adminAuth",initialState:Je,reducers:{setAdminCredentials(t,s){const{user:a,token:r,expires_at:o}=s.payload||{};t.user=a||null,t.token=r||null,t.expires_at=o||null,t.checked=!0},setAdminPermissions(t,s){t.perms=Array.isArray(s.payload)?s.payload:[]},adminLogout(t){t.user=null,t.token=null,t.expires_at=null,t.checked=!0,t.perms=[]}}}),{setAdminCredentials:Ze,setAdminPermissions:te,adminLogout:Y}=Ee.actions,Qe=Ee.reducer,B={},Xe=(B==null?void 0:B.VITE_ADMIN_API_BASE_URL)||"https://snowcity-backend-zjlj.onrender.com",S=ze.create({baseURL:Xe,timeout:2e4,withCredentials:!1,headers:{"Content-Type":"application/json",Accept:"application/json"}});let G=null,L={getToken:()=>G,onUnauthorized:null};function Se(t){G=t||null}function et({getToken:t,onUnauthorized:s}={}){typeof t=="function"&&(L.getToken=t),typeof s=="function"&&(L.onUnauthorized=s)}const tt=t=>{var r;const s=t==null?void 0:t.code;return!((r=t==null?void 0:t.response)==null?void 0:r.status)&&(s==="ECONNABORTED"||s==="ERR_NETWORK"||s==="ENETUNREACH"||s==="EAI_AGAIN")},at=t=>{var m;const s=t==null?void 0:t.response,a=s==null?void 0:s.data,r=(s==null?void 0:s.status)||0,o=(a==null?void 0:a.message)||(a==null?void 0:a.error)||(t==null?void 0:t.message)||"Request failed",i=(a==null?void 0:a.code)||((m=s==null?void 0:s.headers)==null?void 0:m["x-error-code"])||(t==null?void 0:t.code)||null;return{message:o,status:r,code:i,data:typeof a=="object"?a:null}};S.interceptors.request.use(t=>{t.headers=t.headers||{};const s=L.getToken&&L.getToken()||G;return s&&(t.headers.Authorization=`Bearer ${s}`),t});S.interceptors.response.use(t=>t,async t=>{var r;const s=(t==null?void 0:t.config)||{},a=(r=t==null?void 0:t.response)==null?void 0:r.status;if(s.method==="get"&&!s._retry&&tt(t)){s._retry=!0;try{return await S(s)}catch(o){t=o}}if(a===401&&typeof L.onUnauthorized=="function")try{await L.onUnauthorized()}catch{}return Promise.reject(at(t))});const j={async get(t,s={}){const{fullResponse:a=!1,...r}=s,o=await S.get(t,r);return a?o:o.data},async post(t,s,a={}){const{fullResponse:r=!1,...o}=a,i=await S.post(t,s,o);return r?i:i.data},async put(t,s,a={}){const{fullResponse:r=!1,...o}=a,i=await S.put(t,s,o);return r?i:i.data},async patch(t,s,a={}){const{fullResponse:r=!1,...o}=a,i=await S.patch(t,s,o);return r?i:i.data},async delete(t,s={}){const{fullResponse:a=!1,...r}=s,o=await S.delete(t,r);return a?o:o.data},async upload(t,s,a={}){const r=new FormData;return r.append("file",s),Object.entries(a).forEach(([i,p])=>r.append(i,p)),(await S.post(t,r,{headers:{"Content-Type":"multipart/form-data"}})).data}},v={root:()=>"/api/admin",dashboard:()=>"/api/admin/dashboard",dashboardRecent:()=>"/api/admin/dashboard/recent-bookings",dashboardTopAttractions:()=>"/api/admin/dashboard/top-attractions",dashboardStatus:()=>"/api/admin/dashboard/status-breakdown",dashboardTrend:()=>"/api/admin/dashboard/trend",bookings:()=>"/api/admin/bookings",bookingById:t=>`/api/admin/bookings/${x(t)}`,bookingCancel:t=>`/api/admin/bookings/${x(t)}/cancel`,bookingResendTicket:t=>`/api/admin/bookings/${x(t)}/resend-ticket`,bookingResendWhatsApp:t=>`/api/admin/bookings/${x(t)}/resend-whatsapp`,bookingResendEmail:t=>`/api/admin/bookings/${x(t)}/resend-email`,payphiStatus:t=>`/api/admin/bookings/${x(t)}/pay/payphi/status`,payphiInitiate:t=>`/api/admin/bookings/${x(t)}/pay/payphi/initiate`,payphiRefund:t=>`/api/admin/bookings/${x(t)}/pay/payphi/refund`,attractions:()=>"/api/admin/attractions",attractionById:t=>`/api/admin/attractions/${x(t)}`,slots:()=>"/api/admin/slots",slotsBulk:()=>"/api/admin/slots/bulk",slotById:t=>`/api/admin/slots/${x(t)}`,addons:()=>"/api/admin/addons",coupons:()=>"/api/admin/coupons",offers:()=>"/api/admin/offers",dynamicPricing:()=>"/api/admin/dynamic-pricing",dynamicPricingById:t=>`/api/admin/dynamic-pricing/${x(t)}`,attractionDatePrices:t=>`/api/admin/attraction-date-prices/${x(t)}`,attractionDatePricesBulk:t=>`/api/admin/attraction-date-prices/${x(t)}/bulk`,attractionDatePricesByDate:(t,s)=>`/api/admin/attraction-date-prices/${x(t)}/${x(s)}`,comboDatePrices:t=>`/api/admin/combo-date-prices/${x(t)}`,comboDatePricesBulk:t=>`/api/admin/combo-date-prices/${x(t)}/bulk`,comboDatePricesByDate:(t,s)=>`/api/admin/combo-date-prices/${x(t)}/${x(s)}`,combos:()=>"/api/admin/combos",comboById:t=>`/api/admin/combos/${x(t)}`,comboSlots:()=>"/api/admin/combo-slots",comboSlotById:t=>`/api/admin/combo-slots/${x(t)}`,comboSlotsBulk:()=>"/api/admin/combo-slots/bulk",blogs:()=>"/api/admin/blogs",blogById:t=>`/api/admin/blogs/${x(t)}`,blogPreview:()=>"/api/admin/blogs/preview",pages:()=>"/api/admin/pages",pageById:t=>`/api/admin/pages/${x(t)}`,pagePreview:()=>"/api/admin/pages/preview",gallery:()=>"/api/admin/gallery",galleryById:t=>`/api/admin/gallery/${x(t)}`,galleryDelete:t=>`/api/admin/gallery/${x(t)}`,galleryBulkDelete:()=>"/api/admin/gallery/bulk-delete",banners:()=>"/api/admin/banners",bannerById:t=>`/api/admin/banners/${x(t)}`,bannersReorder:()=>"/api/admin/banners/reorder",users:()=>"/api/admin/users",userById:t=>`/api/admin/users/${x(t)}`,settings:()=>"/api/admin/settings",settingKey:t=>`/api/admin/settings/${x(t)}`,notifications:()=>"/api/admin/notifications",notificationById:t=>`/api/admin/notifications/${x(t)}`,holidays:()=>"/api/admin/holidays",holidayById:t=>`/api/admin/holidays/${x(t)}`,happyHours:()=>"/api/admin/happy-hours",happyHourById:t=>`/api/admin/happy-hours/${x(t)}`,roles:()=>"/api/admin/roles",roleById:t=>`/api/admin/roles/${x(t)}`,rolePerms:t=>`/api/admin/roles/${x(t)}/permissions`,permissions:()=>"/api/admin/permissions",permissionById:t=>`/api/admin/permissions/${x(t)}`,analyticsOverview:()=>"/api/admin/analytics/overview",analyticsTrend:()=>"/api/admin/analytics/trend",analyticsTopAttractions:()=>"/api/admin/analytics/top-attractions",analyticsAttractionRevenue:()=>"/api/admin/analytics/attraction-revenue",analyticsComboRevenue:()=>"/api/admin/analytics/combo-revenue",analyticsReport:(t="csv")=>`/api/admin/analytics/report.${t}`,analytics:()=>"/api/admin/analytics"},st=(t,s)=>t&&typeof t=="object"?{message:t.message||s,status:t.status||0,code:t.code||null}:{message:String(t||s)},$=_("adminDashboard/fetchDashboard",async(t,{rejectWithValue:s})=>{try{const[a,r,o,i]=await Promise.all([j.get(v.dashboard()),j.get(v.dashboardRecent()),j.get(v.dashboardTopAttractions()),j.get(v.dashboardStatus())]);return{main:a,recent:r,top:o,status:i}}catch(a){return s(a)}}),rt=U({name:"adminDashboard",initialState:{data:null,status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase($.pending,s=>{s.status="loading",s.error=null}),t.addCase($.fulfilled,(s,a)=>{s.status="succeeded",s.data=a.payload}),t.addCase($.rejected,(s,a)=>{s.status="failed",s.error=st(a.payload||a.error,"Failed to load dashboard")})}}),nt=rt.reducer,V=(t,s)=>t&&typeof t=="object"?{message:t.message||s,status:t.status||0,code:t.code||null}:{message:String(t||s)},F=_("adminBookings/list",async(t={page:1,limit:20},{rejectWithValue:s})=>{try{const a=await j.get(v.bookings(),{params:t});return{data:Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a)?a:[],meta:(a==null?void 0:a.meta)||null,query:t}}catch(a){return s(a)}}),q=_("adminBookings/getOne",async({id:t},{rejectWithValue:s})=>{try{const a=await j.get(v.bookingById(t));return(a==null?void 0:a.booking)||a}catch(a){return s(a)}}),ot=_("adminBookings/update",async({id:t,patch:s},{rejectWithValue:a})=>{try{const r=await j.put(v.bookingById(t),s);return(r==null?void 0:r.booking)||r}catch(r){return a(r)}}),it=_("adminBookings/cancel",async({id:t},{rejectWithValue:s})=>{try{const a=await j.post(v.bookingCancel(t));return(a==null?void 0:a.booking)||a}catch(a){return s(a)}}),lt=_("adminBookings/payphiStatus",async({id:t},{rejectWithValue:s})=>{try{const a=await j.get(v.payphiStatus(t));return{id:t,...a}}catch(a){return s(a)}}),dt=_("adminBookings/payphiInitiate",async({id:t,email:s,mobile:a},{rejectWithValue:r})=>{try{const o=await j.post(v.payphiInitiate(t),{email:s,mobile:a});return{id:t,...o}}catch(o){return r(o)}}),ct=_("adminBookings/payphiRefund",async({id:t,amount:s,newMerchantTxnNo:a},{rejectWithValue:r})=>{try{const o=await j.post(v.payphiRefund(t),{amount:s,newMerchantTxnNo:a});return{id:t,...o}}catch(o){return r(o)}}),mt=_("adminBookings/resendTicket",async({id:t},{rejectWithValue:s})=>{try{const a=await j.post(v.bookingResendTicket(t));return{id:t,...a}}catch(a){return s(a)}}),ut=_("adminBookings/resendWhatsApp",async({id:t},{rejectWithValue:s})=>{try{const a=await j.post(v.bookingResendWhatsApp(t));return{id:t,...a}}catch(a){return s(a)}}),pt=_("adminBookings/resendEmail",async({id:t},{rejectWithValue:s})=>{try{const a=await j.post(v.bookingResendEmail(t));return{id:t,...a}}catch(a){return s(a)}}),gt=U({name:"adminBookings",initialState:{list:{status:"idle",data:[],meta:null,error:null,query:{page:1,limit:20}},current:{status:"idle",data:null,error:null},action:{status:"idle",error:null}},reducers:{},extraReducers:t=>{t.addCase(F.pending,s=>{s.list.status="loading",s.list.error=null}),t.addCase(F.fulfilled,(s,a)=>{s.list.status="succeeded",s.list.data=a.payload.data,s.list.meta=a.payload.meta,s.list.query=a.payload.query}),t.addCase(F.rejected,(s,a)=>{s.list.status="failed",s.list.error=V(a.payload||a.error,"Failed to load bookings")}),t.addCase(q.pending,s=>{s.current.status="loading",s.current.error=null,s.current.data=null}),t.addCase(q.fulfilled,(s,a)=>{s.current.status="succeeded",s.current.data=a.payload}),t.addCase(q.rejected,(s,a)=>{s.current.status="failed",s.current.error=V(a.payload||a.error,"Failed to load booking")});for(const s of[ot,it,lt,dt,ct,mt,ut,pt])t.addCase(s.pending,a=>{a.action.status="loading",a.action.error=null}),t.addCase(s.fulfilled,a=>{a.action.status="succeeded"}),t.addCase(s.rejected,(a,r)=>{a.action.status="failed",a.action.error=V(r.payload||r.error,"Action failed")})}}),ht=gt.reducer,ae=!1,z="sc_admin_auth",xt=t=>{try{return JSON.parse(t)}catch{return null}},yt=()=>{const t=localStorage.getItem(z);if(!t)return;const s=xt(t);if(s!=null&&s.expires_at){const a=new Date(s.expires_at).getTime();if(Number.isFinite(a)&&Date.now()>=a){localStorage.removeItem(z);return}}return s},bt=t=>{if(!t||!t.token){localStorage.removeItem(z);return}localStorage.setItem(z,JSON.stringify({user:t.user||null,token:t.token,expires_at:t.expires_at||null}))},Pe=$e();Pe.startListening({predicate:t=>t.type==="adminAuth/setAdminCredentials"||t.type==="adminAuth/adminLogout",effect:(t,s)=>{var r;const a=t.type==="adminAuth/setAdminCredentials"&&((r=t.payload)==null?void 0:r.token)||null;Se(a),bt(s.getState().adminAuth)}});const M={adminAuth:yt()},O=Be({reducer:{adminAuth:Qe,adminDashboard:nt,adminBookings:ht},preloadedState:M,middleware:t=>t({serializableCheck:{warnAfter:64},immutableCheck:ae}).prepend(Pe.middleware),devTools:ae});var _e;Se(((_e=M==null?void 0:M.adminAuth)==null?void 0:_e.token)||null);et({getToken:()=>{var t;return((t=O.getState().adminAuth)==null?void 0:t.token)||null},onUnauthorized:async()=>{var s;((s=O.getState().adminAuth)==null?void 0:s.token)&&O.dispatch(Y())}});/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],kt=f("badge-percent",ft);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wt=f("bell",jt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],_t=f("boxes",vt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],At=f("building-2",Nt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],St=f("calendar-clock",Et);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ct=f("calendar",Pt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rt=f("chart-column",Lt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],It=f("clock-3",Tt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],H=f("dollar-sign",Dt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ot=f("eye",Mt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],se=f("gift",zt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],re=f("image",Bt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Vt=f("key-round",$t);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qt=f("layout-dashboard",Ft);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Ut=f("newspaper",Ht);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yt=f("search",Wt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kt=f("shield-check",Gt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Zt=f("square-split-horizontal",Jt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xt=f("trending-up",Qt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ta=f("user-cog",ea);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ne=f("users",aa),sa=Object.freeze([]),ra=Object.freeze([]),na=t=>{const s=t.adminAuth||{},a=s.user||null;return{perms:Array.isArray(s.perms)?s.perms:sa,roles:Array.isArray(a==null?void 0:a.roles)?a.roles:ra,userId:(a==null?void 0:a.user_id)??(a==null?void 0:a.id)??null}};function oa({anyOf:t=[],allOf:s=[],children:a,fallback:r=null}){const{perms:o,roles:i,userId:p}=I(na,Ne),m=h.useMemo(()=>new Set(i.map(d=>String(d).toLowerCase())),[i]);if(p!=null&&Number(p)===1||m.has("root")||m.has("superadmin"))return a;const y=s.length?s.every(d=>o.includes(d)):!0,l=t.length?t.some(d=>o.includes(d)):!0;return y&&l?a:r||null}const ia="group relative flex items-center gap-3 px-3 py-2 rounded-xl text-sm transition-colors",oe="sc_admin_sidebar_open_sections";function la(t){return t?typeof t=="string"?t.toLowerCase().trim():String(t.role_name||t.name||t).toLowerCase().trim():""}function da(t){const[s,a]=h.useState(()=>{try{const i=localStorage.getItem(oe);if(!i)return t;const p=JSON.parse(i);return typeof p=="object"&&p?{...t,...p}:t}catch{return t}}),r=h.useCallback(i=>{a(i);try{localStorage.setItem(oe,JSON.stringify(i))}catch{}},[]),o=h.useCallback((i,p)=>{r({...s,[i]:!!p})},[s,r]);return[s,o]}const ca=Object.freeze([]),ma=Object.freeze([]),ua=t=>{const s=t.adminAuth||{},a=s.user||null;return{roles:Array.isArray(a==null?void 0:a.roles)?a.roles:ca,perms:Array.isArray(s.perms)?s.perms:ma,userId:(a==null?void 0:a.user_id)??(a==null?void 0:a.id)??null}};function ie({collapsed:t,onClose:s}){const a=Ve(),{roles:r,perms:o,userId:i}=I(ua,Ne),p=h.useMemo(()=>(r||[]).map(la),[r]),m=h.useMemo(()=>new Set((o||[]).map(b=>String(b).toLowerCase().trim())),[o]),y=i!=null&&Number(i)===1||p.includes("root")||p.includes("superadmin")||m.has("admin-management:manage")||m.has("admin-management:write")||m.has("admin-management:read")||m.has("admins:manage")||m.has("admins:write")||m.has("admins:read"),l=()=>{typeof s=="function"&&s()},[d,w]=h.useState(""),R=h.useMemo(()=>{const b=[{key:"Dashboard",label:"Overview",items:[{to:"/admin",end:!0,label:"Executive Dashboard",icon:qt}]},{key:"Analytics",label:"Analytics",items:[{to:"/admin/analytics/overview",label:"Overview",icon:Rt},{to:"/admin/analytics/attractions",label:"Attractions",icon:At},{to:"/admin/analytics/daily",label:"Daily Trend",icon:Xt},{to:"/admin/analytics/split",label:"Split Analysis",icon:Zt},{to:"/admin/analytics/custom",label:"Custom Report",icon:ee},{to:"/admin/analytics/people",label:"People",icon:ne},{to:"/admin/analytics/views",label:"Views",icon:Ot},{to:"/admin/revenue/attractions",label:"Attraction Revenue",icon:H},{to:"/admin/revenue/combos",label:"Combo Revenue",icon:H}]},{key:"Bookings",label:"Bookings",items:[{to:"/admin/bookings",label:"All Bookings",icon:St},{to:"/admin/bookings/calendar",label:"Booking Calendar",icon:Ct},{to:"/admin/bookings/slots",label:"Time Slots",icon:It}]},{key:"Catalog",label:"Catalog",items:[{to:"/admin/catalog/attractions",label:"Attractions",icon:se},{to:"/admin/catalog/addons",label:"Add-ons",icon:se},{to:"/admin/catalog/combos",label:"Combos",icon:_t},{to:"/admin/catalog/offers",label:"Offers",icon:kt},{to:"/admin/catalog/dynamic-pricing",label:"Dynamic Pricing",icon:H},{to:"/admin/catalog/coupons",label:"Coupons",icon:Ke},{to:"/admin/catalog/banners",label:"Banners",icon:re},{to:"/admin/catalog/gallery",label:"Gallery",icon:re},{to:"/admin/catalog/pages",label:"Pages",icon:ee},{to:"/admin/catalog/blogs",label:"Blogs",icon:Ut}]},...p.includes("subadmin")&&!p.includes("admin")&&!p.includes("root")&&!p.includes("superadmin")?[]:[{key:"AdminManagement",label:"People",items:[{to:"/admin/users",label:"Customers",icon:ne},{to:"/admin/roles",label:"Admin Roles",icon:Kt},...y?[{to:"/admin/admins",label:"Admin Team",icon:ta,permsAny:["admin-management:read"]},{to:"/admin/admins/access",label:"Grant Access",icon:Vt,permsAny:["admin-management:write","admin-management:manage"]}]:[]]}]];if(d.trim()==="")return b;const N=d.trim().toLowerCase();return b.map(A=>{const E=A.items.filter(D=>D.label.toLowerCase().includes(N));return E.length?{...A,items:E}:null}).filter(Boolean)},[y,d]),k=h.useMemo(()=>({Dashboard:!0,Analytics:!1,Bookings:!0,Catalog:!0,AdminManagement:!0,UsersRBAC:!1}),[]),[T,K]=da(k);h.useEffect(()=>{const b=a.pathname||"";for(const N of R)N.items.some(E=>b.startsWith(E.to))&&!T[N.key]&&K(N.key,!0)},[a.pathname,R]);const Ie=b=>K(b,!T[b]),De=h.useCallback((b,N=!1)=>{if(!b)return!1;const A=a.pathname||"";return N?A===b:b==="/admin"?A==="/admin":A.startsWith(b)},[a.pathname]);return e.jsxs("aside",{className:["h-screen sticky top-0 border-r border-white/20 dark:border-neutral-900/60 bg-gradient-to-b from-white/90 via-white to-white/60 dark:from-neutral-950 dark:via-neutral-950 dark:to-neutral-900 backdrop-blur-xl transition-[width] duration-200 ease-in-out shadow-[0_10px_40px_rgba(15,23,42,0.08)] dark:shadow-none",t?"w-20":"w-72"].join(" "),"aria-label":"Admin navigation",children:[e.jsxs("div",{className:"px-4 py-5 flex items-center justify-between border-b border-gray-200/50 dark:border-neutral-900/60",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold shadow-lg shadow-blue-500/30",children:"SC"}),!t&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-neutral-100",children:"SnowCity Admin"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400",children:"Experience Excellence"})]})]}),e.jsx("button",{className:"md:hidden rounded-full p-2 text-gray-500 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800",onClick:s,"aria-label":"Close navigation",children:"✕"})]}),!t&&e.jsx("div",{className:"px-4 pt-4",children:e.jsx("label",{className:"relative block",children:e.jsx("input",{type:"search",value:d,onChange:b=>w(b.target.value),placeholder:"Quick find…",className:"w-full rounded-2xl border border-gray-200/80 bg-white/80 dark:bg-neutral-900 px-3 py-2 text-sm text-gray-700 dark:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})})}),e.jsx("nav",{className:"px-3 pb-4 h-[calc(100vh-140px)] overflow-y-auto",children:R.map(b=>{var A;if(!((A=b.items)!=null&&A.length))return null;const N=!!T[b.key];return e.jsxs("div",{className:"mt-3 first:mt-0",children:[e.jsxs("button",{type:"button",className:["w-full flex items-center justify-between px-3 py-2 rounded-2xl text-xs font-semibold tracking-wide uppercase","text-gray-500 dark:text-neutral-400 hover:bg-gray-100/70 dark:hover:bg-neutral-800/70 backdrop-blur"].join(" "),onClick:()=>Ie(b.key),"aria-expanded":N,"aria-controls":`section-${b.key}`,title:t?b.label:void 0,children:[!t&&e.jsx("span",{className:"font-medium",children:b.label}),t&&e.jsx("span",{className:"font-medium","aria-hidden":"true",children:b.label.charAt(0)}),e.jsx(Ge,{className:["h-4 w-4 shrink-0 transition-transform",N?"rotate-180":""].join(" ")})]}),e.jsx("div",{id:`section-${b.key}`,className:["overflow-hidden transition-all",N?"max-h-[1200px] ease-in":"max-h-0 ease-out"].join(" "),children:e.jsx("div",{className:"mt-1 space-y-1",children:b.items.map(({to:E,end:D,label:J,icon:Me,permsAny:Z,permsAll:Q})=>{const X=e.jsxs(Fe,{to:E,end:D,title:t?J:void 0,className:({isActive:Oe})=>[ia,t?"justify-center px-2":"justify-start px-3",Oe?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-600 dark:text-neutral-300 hover:bg-gray-100/80 dark:hover:bg-neutral-800"].join(" "),onClick:l,children:[e.jsx(Me,{className:"h-5 w-5","aria-hidden":"true"}),!t&&e.jsx("span",{children:J})]},E);return Z||Q?e.jsx(oa,{anyOf:Z||[],allOf:Q||[],children:X},E):e.jsxs("div",{className:"relative",children:[X,De(E,D)&&!t&&e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":"true"})]},E)})})})]},b.key)})}),e.jsx("div",{className:"px-4 pb-5",children:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-slate-900 via-indigo-900 to-blue-700 text-white p-4 shadow-lg",children:[e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Need quick access?"}),e.jsx("p",{className:"text-xs text-white/80 mb-3",children:"Jump to bookings or reach support instantly."}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{to:"/admin/bookings",className:"inline-flex items-center justify-center rounded-full bg-white/10 px-3 py-1.5 text-xs font-semibold hover:bg-white/20",onClick:l,children:"Go to Bookings"}),e.jsx("a",{href:"mailto:support@snowcity.com",className:"inline-flex items-center justify-center rounded-full bg-white text-slate-900 px-3 py-1.5 text-xs font-semibold",children:"Contact Support"})]})]})})]})}const Ce="sc_admin_theme",pa=()=>localStorage.getItem(Ce)||"system",Le=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,le=t=>{const s=document.documentElement,a=t==="dark"||t==="system"&&Le();s.classList.toggle("dark",!!a)};function Re(){const[t,s]=h.useState(pa());h.useEffect(()=>{le(t),localStorage.setItem(Ce,t)},[t]),h.useEffect(()=>{if(t!=="system")return;const r=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>le("system");return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[t]);const a=t==="dark"||t==="system"&&Le();return{theme:t,setTheme:s,isDark:a}}function de({compact:t=!1}){const{theme:s,setTheme:a}=Re();return e.jsxs("div",{className:`inline-flex items-center gap-1 ${t?"":"p-1 border rounded-lg bg-white dark:bg-neutral-900 dark:border-neutral-700"}`,children:[e.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="light"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("light"),children:"Light"}),e.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="dark"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("dark"),children:"Dark"}),e.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${s==="system"?"bg-gray-900 text-white":"border dark:border-neutral-700 dark:text-neutral-200"}`,onClick:()=>a("system"),children:"System"})]})}const ga=[{label:"Reports",to:"/admin/analytics/overview"},{label:"Offers",to:"/admin/catalog/offers"}];function ha({onToggleSidebar:t,onToggleMobile:s}){const a=I(l=>{var d;return(d=l.adminAuth)==null?void 0:d.user}),r=W(),o=((a==null?void 0:a.name)||(a==null?void 0:a.email)||"A").charAt(0).toUpperCase(),[i,p]=h.useState(!1),[m,g]=h.useState(""),y=h.useRef(null);return h.useEffect(()=>{const l=d=>{y.current&&!y.current.contains(d.target)&&p(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),e.jsx("header",{className:"sticky top-0 z-40 bg-white/90 dark:bg-neutral-900/80 backdrop-blur supports-[backdrop-filter]:bg-white/70 border-b border-gray-200 dark:border-neutral-800",children:e.jsxs("div",{className:"h-16 px-3 md:px-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"md:hidden rounded-xl border border-gray-200 px-3 py-2 text-gray-600",onClick:s,"aria-label":"Open navigation",children:"☰"}),e.jsx("button",{className:"hidden md:inline-flex rounded-xl border border-gray-200 px-3 py-2 text-gray-600",onClick:t,"aria-label":"Toggle navigation",children:"☰"}),e.jsxs("div",{className:"hidden md:flex flex-col",children:[e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"SnowCity Admin"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Operations Control"})]})]}),e.jsxs("div",{className:"flex-1 flex items-center gap-3 max-w-3xl",children:[e.jsxs("label",{className:"flex-1 relative",children:[e.jsx(Yt,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"search",value:m,onChange:l=>g(l.target.value),placeholder:"Search bookings, users, offers...",className:"w-full rounded-full border border-gray-200 bg-white px-10 py-2 text-sm shadow-sm focus:border-gray-400 focus:outline-none"})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-2",children:ga.map(l=>e.jsx(P,{to:l.to,className:"rounded-full border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:border-gray-400",children:l.label},l.to))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"hidden md:inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-200 text-gray-500","aria-label":"Notifications",children:e.jsx(wt,{className:"h-4 w-4"})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(de,{compact:!0})}),e.jsxs("div",{className:"relative",ref:y,children:[e.jsx("button",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-gray-900 to-gray-700 text-white flex items-center justify-center",title:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"Profile",onClick:()=>p(l=>!l),children:o}),i&&e.jsxs("div",{className:"absolute right-0 top-full mt-3 w-64 rounded-2xl border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 shadow-xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-neutral-50",children:(a==null?void 0:a.name)||"Admin user"}),e.jsx("p",{className:"text-xs text-gray-500",children:a==null?void 0:a.email})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800"}),e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Theme"}),e.jsx(de,{})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800"}),e.jsx(P,{to:"/admin/profile",className:"block px-4 py-3 text-sm text-gray-700 dark:text-neutral-200 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>p(!1),children:"Profile & Settings"}),e.jsx("button",{className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>{p(!1),r(Y())},children:"Logout"})]})]})]})]})})}const xa=_("adminAuth/adminLogin",async({email:t,password:s},{dispatch:a,rejectWithValue:r})=>{var o,i,p,m;try{const g=await qe.post(He.auth.login(),{email:t,password:s,isAdmin:!0}),y=g==null?void 0:g.token;if(!y)throw new Error("No token from login");return a(Ze({user:{...g==null?void 0:g.user,isAdmin:!0},token:y,expires_at:(g==null?void 0:g.expires_at)||null})),await a(Te()).unwrap(),g}catch(g){a(Y());const y=((i=(o=g==null?void 0:g.response)==null?void 0:o.data)==null?void 0:i.error)||((m=(p=g==null?void 0:g.response)==null?void 0:p.data)==null?void 0:m.message)||(g==null?void 0:g.message)||"Login failed";return r(y)}}),Te=_("adminAuth/hydratePerms",async(t,{dispatch:s,rejectWithValue:a})=>{var r,o,i,p;try{const m=["all"];return s(te(m)),m}catch(m){s(te([]));const g=((o=(r=m==null?void 0:m.response)==null?void 0:r.data)==null?void 0:o.error)||((p=(i=m==null?void 0:m.response)==null?void 0:i.data)==null?void 0:p.message)||(m==null?void 0:m.message)||"Failed to hydrate permissions";return a(g)}});function ya(){const[t,s]=h.useState(!1),[a,r]=h.useState(!1),o=W();return Re(),h.useEffect(()=>{o(Te()).catch(()=>{})},[o]),e.jsxs("div",{className:"min-h-screen bg-slate-100/60 dark:bg-neutral-950",children:[e.jsxs("div",{className:"pointer-events-none fixed inset-0 z-0 opacity-60",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.12),transparent_45%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(14,165,233,0.09),transparent_50%)]"})]}),e.jsxs("div",{className:"relative z-10 flex",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(ie,{collapsed:t,onClose:()=>{}})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white dark:bg-neutral-900 z-50 shadow-lg",children:e.jsx(ie,{collapsed:!1,onClose:()=>r(!1)})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(ha,{onToggleSidebar:()=>s(i=>!i),onToggleMobile:()=>r(i=>!i)}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx(Ae,{})})]})]})]})}function ba(){const t=W(),s=I(y=>{var l;return(l=y.adminAuth)==null?void 0:l.token}),[a,r]=h.useState({email:"",password:""}),[o,i]=h.useState("idle"),[p,m]=h.useState(null);if(s)return e.jsx(C,{to:"/admin",replace:!0});const g=async y=>{y.preventDefault(),i("loading"),m(null);try{await t(xa(a)).unwrap()}catch(l){m((l==null?void 0:l.message)||"Login failed"),i("failed")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Portal"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Sign in to your account"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-8",children:[e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:a.email,onChange:y=>r({...a,email:y.target.value}),placeholder:"Enter your email address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:a.password,onChange:y=>r({...a,password:y.target.value}),placeholder:"Enter your password",required:!0})]}),p&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:p})}),e.jsx("button",{type:"submit",disabled:o==="loading",className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:o==="loading"?"Signing in...":"Sign in"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(P,{to:"/admin/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Forgot your password?"})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"© 2024 SnowCity. All rights reserved."})})]})})}function fa(){const[t,s]=h.useState({email:""}),[a,r]=h.useState("idle"),[o,i]=h.useState(null),[p,m]=h.useState(null),g=async y=>{if(y.preventDefault(),r("loading"),i(null),m(null),!t.email){r("failed"),i("Email address is required");return}try{await j.post("/api/admin/auth/forgot-password",{email:t.email}),r("success"),m("If an account with that email exists, we have sent you a password reset link.")}catch(l){r("failed"),i((l==null?void 0:l.message)||"Failed to send reset email")}};return a==="success"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-600 rounded-xl mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"We've sent you a password reset link"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:p})}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Didn't receive the email? Check your spam folder or try again."})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(P,{to:"/admin/login",className:"inline-block w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-center",children:"Back to Sign In"}),e.jsx("button",{onClick:()=>{r("idle"),m(null),i(null)},className:"inline-block w-full py-2 px-4 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 text-sm transition-colors",children:"Try a different email"})]})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Enter your email to receive a reset link"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-8",children:[e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:t.email,onChange:y=>s({...t,email:y.target.value}),placeholder:"Enter your email address",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"We'll send a password reset link to this email"})]}),o&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:o})}),e.jsx("button",{type:"submit",disabled:a==="loading",className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:a==="loading"?"Sending Reset Link...":"Send Reset Link"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(P,{to:"/admin/login",className:"text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:"← Back to Sign In"})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"© 2024 SnowCity. All rights reserved."})})]})})}function ka(){const[t]=Ue(),s=t.get("token"),[a,r]=h.useState({password:"",confirmPassword:""}),[o,i]=h.useState("idle"),[p,m]=h.useState(null),[g,y]=h.useState(null);if(!s)return e.jsx(C,{to:"/admin/login",replace:!0});const l=async d=>{if(d.preventDefault(),i("loading"),m(null),y(null),!a.password){i("failed"),m("Password is required");return}if(a.password.length<8){i("failed"),m("Password must be at least 8 characters long");return}if(a.password!==a.confirmPassword){i("failed"),m("Passwords do not match");return}try{await j.post("/api/admin/auth/reset-password",{token:s,newPassword:a.password}),i("success"),y("Your password has been reset successfully. You can now sign in with your new password.")}catch(w){i("failed"),m((w==null?void 0:w.message)||"Failed to reset password. The link may have expired.")}};return o==="success"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-600 rounded-xl mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Password Reset"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Your password has been updated"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:g})}),e.jsx(P,{to:"/admin/login",className:"inline-block w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-center",children:"Sign In Now"})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Set New Password"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Enter your new password"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-8",children:[e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:a.password,onChange:d=>r({...a,password:d.target.value}),placeholder:"Enter new password",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:a.confirmPassword,onChange:d=>r({...a,confirmPassword:d.target.value}),placeholder:"Confirm new password",required:!0})]}),p&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:p})}),e.jsx("button",{type:"submit",disabled:o==="loading",className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:o==="loading"?"Resetting Password...":"Reset Password"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(P,{to:"/admin/login",className:"text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:"← Back to Sign In"})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"© 2024 SnowCity. All rights reserved."})})]})})}function ja(){var y;const[t,s]=h.useState({status:"loading",error:null,form:{name:"",email:"",phone:""},saving:!1}),[a,r]=h.useState({form:{currentPassword:"",newPassword:"",confirmPassword:""},saving:!1,error:null,success:null});h.useEffect(()=>{(async()=>{try{const l=await j.get("/api/admin/auth/profile"),d=(l==null?void 0:l.user)||{};s(w=>({...w,status:"idle",form:{name:d.name||"",email:d.email||"",phone:d.phone||""}}))}catch(l){s(d=>({...d,status:"failed",error:l}))}})()},[]);const o=async l=>{l.preventDefault(),s(d=>({...d,saving:!0}));try{await j.patch("/api/users/me",t.form),alert("Profile updated successfully")}catch(d){alert((d==null?void 0:d.message)||"Update failed")}finally{s(d=>({...d,saving:!1}))}},i=async l=>{l.preventDefault(),r(k=>({...k,saving:!0,error:null,success:null}));const{currentPassword:d,newPassword:w,confirmPassword:R}=a.form;if(!d){r(k=>({...k,saving:!1,error:"Current password is required"}));return}if(!w){r(k=>({...k,saving:!1,error:"New password is required"}));return}if(w.length<8){r(k=>({...k,saving:!1,error:"Password must be at least 8 characters long"}));return}if(w!==R){r(k=>({...k,saving:!1,error:"New passwords do not match"}));return}if(d===w){r(k=>({...k,saving:!1,error:"New password must be different from current password"}));return}try{await j.post("/api/admin/auth/change-password",{currentPassword:d,newPassword:w}),r(k=>({...k,saving:!1,success:"Password changed successfully",form:{currentPassword:"",newPassword:"",confirmPassword:""}}))}catch(k){r(T=>({...T,saving:!1,error:(k==null?void 0:k.message)||"Failed to change password"}))}},p=(l,d)=>{r(w=>({...w,form:{...w.form,[l]:d},error:null,success:null}))};if(t.status==="loading")return e.jsx("div",{className:"p-6 text-center",children:"Loading profile..."});if(t.status==="failed")return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-red-600 bg-red-50 border border-red-200 rounded-lg p-4",children:((y=t.error)==null?void 0:y.message)||"Failed to load profile"})});const m=t.form,g=a.form;return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Account Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your profile and security settings"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Update your personal information"})]}),e.jsxs("form",{onSubmit:o,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:m.name,onChange:l=>s(d=>({...d,form:{...d.form,name:l.target.value}})),placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:m.email,onChange:l=>s(d=>({...d,form:{...d.form,email:l.target.value}})),placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:m.phone,onChange:l=>s(d=>({...d,form:{...d.form,phone:l.target.value}})),placeholder:"Enter your phone number"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",disabled:t.saving,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:t.saving?"Saving...":"Save Changes"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Update your account password"})]}),e.jsxs("form",{onSubmit:i,className:"p-6",children:[a.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:a.error})}),a.success&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:a.success})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:g.currentPassword,onChange:l=>p("currentPassword",l.target.value),placeholder:"Enter your current password"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:g.newPassword,onChange:l=>p("newPassword",l.target.value),placeholder:"Enter new password"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-colors",value:g.confirmPassword,onChange:l=>p("confirmPassword",l.target.value),placeholder:"Confirm new password"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",disabled:a.saving,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:a.saving?"Changing Password...":"Change Password"})})]})]})]})}const wa=c.lazy(()=>u(()=>import("./AdminsList-Ds8Xp8BL.js"),__vite__mapDeps([0,1,2,3,4,5]))),va=c.lazy(()=>u(()=>import("./AdminNew-ChkT61ba.js"),__vite__mapDeps([6,1,2,3,4,5]))),ce=c.lazy(()=>u(()=>import("./AdminAccess-CsdP7CIY.js"),__vite__mapDeps([7,1,2,3,4,5]))),_a=c.lazy(()=>u(()=>import("./Dashboard-DcbZMiSg.js"),__vite__mapDeps([8,1,2,9,10,11,12,13,14,15,16,3,4,5]))),Na=c.lazy(()=>u(()=>import("./BookingsList-DcQSLJ8m.js"),__vite__mapDeps([17,1,2,18,19,20,3,4,10,11,12,13,14,5]))),Aa=c.lazy(()=>u(()=>import("./BookingDetails-pMZUV5GP.js"),__vite__mapDeps([21,1,2,3,4,5]))),Ea=c.lazy(()=>u(()=>import("./AttractionsList-By-L3Rpy.js"),__vite__mapDeps([22,1,2,18,23,3,4,5]))),me=c.lazy(()=>u(()=>import("./AttractionForm-Dh4K1sSx.js"),__vite__mapDeps([24,1,2,25,26,27,3,4,5]))),Sa=c.lazy(()=>u(()=>import("./SlotList-CznrDuTl.js"),__vite__mapDeps([28,1,2,18,3,4,5]))),ue=c.lazy(()=>u(()=>import("./SlotForm-D5x5O81z.js"),__vite__mapDeps([29,1,2,3,4,5]))),Pa=c.lazy(()=>u(()=>import("./SlotBulk-B06xPEMs.js"),__vite__mapDeps([30,1,2,3,4,5]))),Ca=c.lazy(()=>u(()=>import("./AddonsList-B9oA5moj.js"),__vite__mapDeps([31,1,2,18,3,4,5]))),pe=c.lazy(()=>u(()=>import("./AddonForm-BGt__e_w.js"),__vite__mapDeps([32,1,2,25,26,27,3,4,5]))),La=c.lazy(()=>u(()=>import("./OffersList-DycbR88T.js"),__vite__mapDeps([33,1,2,18,3,4,5]))),ge=c.lazy(()=>u(()=>import("./OfferForm-D7nPDIs2.js"),__vite__mapDeps([34,1,2,25,26,35,3,4,5]))),Ra=c.lazy(()=>u(()=>import("./CouponsList-C_n9JCU9.js"),__vite__mapDeps([36,1,2,18,19,3,4,5]))),he=c.lazy(()=>u(()=>import("./CouponForm-D7eDB4nx.js"),__vite__mapDeps([37,1,2,3,4,5]))),Ta=c.lazy(()=>u(()=>import("./BannersList-BRizMlQ0.js"),__vite__mapDeps([38,1,2,18,23,3,4,5]))),xe=c.lazy(()=>u(()=>import("./BannerForm-DdxG3ght.js"),__vite__mapDeps([39,1,2,25,26,27,3,4,5]))),Ia=c.lazy(()=>u(()=>import("./PagesList-Bzl1s5dh.js"),__vite__mapDeps([40,1,2,3,4,5]))),ye=c.lazy(()=>u(()=>import("./PageForm-YxDki1wy.js"),__vite__mapDeps([41,1,2,42,25,26,35,3,4,5]))),Da=c.lazy(()=>u(()=>import("./BlogsList-jqyhdtGP.js"),__vite__mapDeps([43,1,2,18,26,3,4,5]))),be=c.lazy(()=>u(()=>import("./BlogForm-BgRnSg8K.js"),__vite__mapDeps([44,1,2,25,26,42,27,3,4,5]))),Ma=c.lazy(()=>u(()=>import("./CombosList-HjPjS9nE.js"),__vite__mapDeps([45,1,2,18,3,4,5]))),fe=c.lazy(()=>u(()=>import("./ComboForm-D5smXlW_.js"),__vite__mapDeps([46,1,2,25,26,3,4,5]))),Oa=c.lazy(()=>u(()=>import("./AttractionSlotList-wzF0R0mp.js"),__vite__mapDeps([47,1,2,3,4,5]))),za=c.lazy(()=>u(()=>import("./GalleryManager--qFtAi-j.js"),__vite__mapDeps([48,1,2,18,26,3,4,5]))),ke=c.lazy(()=>u(()=>import("./GalleryForm-DP4a3p7m.js"),__vite__mapDeps([49,1,2,25,26,35,3,4,5]))),Ba=c.lazy(()=>u(()=>import("./ComboSlotList-DR9KV-kr.js"),__vite__mapDeps([50,1,2,3,4,5]))),je=c.lazy(()=>u(()=>import("./ComboSlotForm-Di1CfQ6g.js"),__vite__mapDeps([51,1,2,3,4,5]))),$a=c.lazy(()=>u(()=>import("./ComboSlotBulk-CZR7UChW.js"),__vite__mapDeps([52,1,2,3,4,5]))),Va=c.lazy(()=>u(()=>import("./DynamicPricing-BP412B4k.js"),__vite__mapDeps([53,1,2,3,4,5]))),Fa=c.lazy(()=>u(()=>import("./UsersList-CjHYUCSR.js"),__vite__mapDeps([54,1,2,18,19,3,4,5]))),qa=c.lazy(()=>u(()=>import("./UserEdit-COn1qVFU.js"),__vite__mapDeps([55,1,2,3,4,5]))),Ha=c.lazy(()=>u(()=>import("./RolesList-DJorQZGp.js"),__vite__mapDeps([56,1,2,18,3,4,5]))),we=c.lazy(()=>u(()=>import("./RoleForm-B2LNw4lb.js"),__vite__mapDeps([57,1,2,3,4,5]))),Ua=c.lazy(()=>u(()=>import("./Overview-s3xJ-Qhp.js"),__vite__mapDeps([58,1,2,9,3,4,5]))),Wa=c.lazy(()=>u(()=>import("./Attractions-Dp_89J9N.js"),__vite__mapDeps([59,1,2,10,11,12,15,16,3,4,5]))),Ya=c.lazy(()=>u(()=>import("./Daily-Cl3rZjzk.js"),__vite__mapDeps([60,1,2,10,11,12,61,16,14,13,3,4,5]))),Ga=c.lazy(()=>u(()=>import("./Custom-soyN67D2.js"),__vite__mapDeps([62,1,2,10,11,12,13,14,3,4,5]))),Ka=c.lazy(()=>u(()=>import("./People-D28e55W4.js"),__vite__mapDeps([63,1,2,10,11,12,13,14,3,4,5]))),Ja=c.lazy(()=>u(()=>import("./Views-CiPiw7Nw.js"),__vite__mapDeps([64,1,2,10,11,12,13,14,3,4,5]))),Za=c.lazy(()=>u(()=>import("./Split-BEtoNRi7.js"),__vite__mapDeps([65,1,2,10,11,12,61,16,14,3,4,5]))),Qa=c.lazy(()=>u(()=>import("./TopAttractions-DBViEtmt.js"),__vite__mapDeps([66,1,2,3,4,5]))),Xa=c.lazy(()=>u(()=>import("./AttractionRevenue-Hx3ZLN-1.js"),__vite__mapDeps([67,1,2,20,3,4,5]))),es=c.lazy(()=>u(()=>import("./ComboRevenue-DWedHMcB.js"),__vite__mapDeps([68,1,2,20,3,4,5])));function ts({children:t}){return I(a=>{var r;return(r=a.adminAuth)==null?void 0:r.token})?t:e.jsx(C,{to:"login",replace:!0})}function ve(){return e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"p-4 text-sm",children:"Loading…"}),children:e.jsx(Ae,{})})}function as(){return e.jsxs(We,{children:[e.jsx(n,{path:"login",element:e.jsx(ba,{})}),e.jsx(n,{path:"forgot-password",element:e.jsx(fa,{})}),e.jsx(n,{path:"reset-password",element:e.jsx(ka,{})}),e.jsx(n,{path:"/",element:e.jsx(ts,{children:e.jsx(ya,{})}),children:e.jsxs(n,{element:e.jsx(ve,{}),children:[e.jsx(n,{index:!0,element:e.jsx(_a,{})}),e.jsx(n,{path:"profile",element:e.jsx(ja,{})}),e.jsxs(n,{path:"analytics",element:e.jsx(ve,{}),children:[e.jsx(n,{index:!0,element:e.jsx(C,{to:"overview",replace:!0})}),e.jsx(n,{path:"overview",element:e.jsx(Ua,{})}),e.jsx(n,{path:"attractions",element:e.jsx(Wa,{})}),e.jsx(n,{path:"daily",element:e.jsx(Ya,{})}),e.jsx(n,{path:"custom",element:e.jsx(Ga,{})}),e.jsx(n,{path:"people",element:e.jsx(Ka,{})}),e.jsx(n,{path:"views",element:e.jsx(Ja,{})}),e.jsx(n,{path:"split",element:e.jsx(Za,{})}),e.jsx(n,{path:"top-attractions",element:e.jsx(Qa,{})})]}),e.jsx(n,{path:"bookings",element:e.jsx(Na,{})}),e.jsx(n,{path:"bookings/:id",element:e.jsx(Aa,{})}),e.jsx(n,{path:"catalog/attractions",element:e.jsx(Ea,{})}),e.jsx(n,{path:"catalog/attractions/new",element:e.jsx(me,{})}),e.jsx(n,{path:"catalog/attractions/:id",element:e.jsx(me,{})}),e.jsx(n,{path:"catalog/slots",element:e.jsx(Sa,{})}),e.jsx(n,{path:"catalog/slots/bulk",element:e.jsx(Pa,{})}),e.jsx(n,{path:"catalog/slots/new",element:e.jsx(ue,{})}),e.jsx(n,{path:"catalog/slots/:id",element:e.jsx(ue,{})}),e.jsx(n,{path:"catalog/addons",element:e.jsx(Ca,{})}),e.jsx(n,{path:"catalog/addons/new",element:e.jsx(pe,{})}),e.jsx(n,{path:"catalog/addons/:id",element:e.jsx(pe,{})}),e.jsx(n,{path:"catalog/offers",element:e.jsx(La,{})}),e.jsx(n,{path:"catalog/offers/new",element:e.jsx(ge,{})}),e.jsx(n,{path:"catalog/offers/:id",element:e.jsx(ge,{})}),e.jsx(n,{path:"catalog/dynamic-pricing",element:e.jsx(Va,{})}),e.jsx(n,{path:"catalog/coupons",element:e.jsx(Ra,{})}),e.jsx(n,{path:"catalog/coupons/new",element:e.jsx(he,{})}),e.jsx(n,{path:"catalog/coupons/:id",element:e.jsx(he,{})}),e.jsx(n,{path:"catalog/combo-slots",element:e.jsx(Ba,{})}),e.jsx(n,{path:"catalog/combo-slots/new",element:e.jsx(je,{})}),e.jsx(n,{path:"catalog/combo-slots/:id",element:e.jsx(je,{})}),e.jsx(n,{path:"catalog/combo-slots/bulk",element:e.jsx($a,{})}),e.jsx(n,{path:"catalog/attraction-slots",element:e.jsx(Oa,{})}),e.jsx(n,{path:"catalog/banners",element:e.jsx(Ta,{})}),e.jsx(n,{path:"catalog/banners/new",element:e.jsx(xe,{})}),e.jsx(n,{path:"catalog/banners/:id",element:e.jsx(xe,{})}),e.jsx(n,{path:"catalog/pages",element:e.jsx(Ia,{})}),e.jsx(n,{path:"catalog/pages/new",element:e.jsx(ye,{})}),e.jsx(n,{path:"catalog/pages/:id",element:e.jsx(ye,{})}),e.jsx(n,{path:"catalog/blogs",element:e.jsx(Da,{})}),e.jsx(n,{path:"catalog/blogs/new",element:e.jsx(be,{})}),e.jsx(n,{path:"catalog/blogs/:id",element:e.jsx(be,{})}),e.jsx(n,{path:"catalog/combos",element:e.jsx(Ma,{})}),e.jsx(n,{path:"catalog/combos/new",element:e.jsx(fe,{})}),e.jsx(n,{path:"catalog/combos/:id",element:e.jsx(fe,{})}),e.jsx(n,{path:"catalog/gallery",element:e.jsx(za,{})}),e.jsx(n,{path:"catalog/gallery/new",element:e.jsx(ke,{})}),e.jsx(n,{path:"catalog/gallery/:id",element:e.jsx(ke,{})}),e.jsx(n,{path:"users",element:e.jsx(Fa,{})}),e.jsx(n,{path:"users/:id",element:e.jsx(qa,{})}),e.jsx(n,{path:"roles",element:e.jsx(Ha,{})}),e.jsx(n,{path:"roles/new",element:e.jsx(we,{})}),e.jsx(n,{path:"roles/:id",element:e.jsx(we,{})}),e.jsx(n,{path:"admins",element:e.jsx(wa,{})}),e.jsx(n,{path:"admins/new",element:e.jsx(va,{})}),e.jsx(n,{path:"admins/access",element:e.jsx(ce,{})}),e.jsx(n,{path:"admins/:id/access",element:e.jsx(ce,{})}),e.jsx(n,{path:"revenue/attractions",element:e.jsx(Xa,{})}),e.jsx(n,{path:"revenue/combos",element:e.jsx(es,{})}),e.jsx(n,{path:"*",element:e.jsx(C,{to:".",replace:!0})})]})}),e.jsx(n,{path:"*",element:e.jsx(C,{to:"/admin",replace:!0})})]})}class ss extends h.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){}render(){var s;return this.state.hasError?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600",children:((s=this.state.error)==null?void 0:s.message)||"Unknown error"})]}):this.props.children}}function rs(){return e.jsx(Ye,{store:O,children:e.jsx(ss,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"p-6",children:"Loading admin…"}),children:e.jsx(as,{})})})})}const ds=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"}));export{v as A,j as a,pt as b,dt as c,ct as d,it as e,ds as f,q as g,F as l,lt as p,ut as r,ot as u};
