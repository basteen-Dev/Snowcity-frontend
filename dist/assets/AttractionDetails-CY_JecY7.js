import{C as Ht,B as Wt,h as Gt,R as m,D as h,i as z,k as U,j as e,A as ft,L as Kt,E as Qt,F as Vt}from"./index-CNdOvwUA.js";import{E as O}from"./ErrorState-CuVT3_I5.js";import{g as Z}from"./ids-YExsbyMi.js";import{i as pt}from"./media-Ct2xuz47.js";import{g as Xt,a as Jt,c as Ot,d as ht,b as Zt}from"./pricing-CIeFTiJd.js";import{f as A}from"./formatters-CmiLqhJj.js";import{X as te}from"./x-BWu8kqUV.js";import"./createLucideIcon-D7GIchwo.js";const R=t=>h(t).format("YYYY-MM-DD"),C=()=>h().format("YYYY-MM-DD"),tt=(t,o)=>String((t==null?void 0:t.id)??(t==null?void 0:t._id)??(t==null?void 0:t.slot_id)??`${(t==null?void 0:t.start_time)||""}-${(t==null?void 0:t.end_time)||""}-${o}`),yt=t=>{if(!t)return"";const[o,c]=t.split(":"),l=parseInt(o,10),d=l>=12?"PM":"AM";return`${l%12||12}:${c} ${d}`},gt=t=>{if(t!=null&&t.label)return t.label;const o=yt(t==null?void 0:t.start_time),c=yt(t==null?void 0:t.end_time);return o&&c?`${o} - ${c}`:o||`Slot #${(t==null?void 0:t.id)??(t==null?void 0:t._id)??(t==null?void 0:t.slot_id)??"?"}`},et=t=>{if(!t||typeof t!="string")return null;const[o="0",c="0"]=t.split(":"),l=Number(o),d=Number(c);return!Number.isFinite(l)||!Number.isFinite(d)?null:l*60+d},ee=(t={},o)=>{if(!t.day_type)return!0;const c=h(o).day(),l=String(t.day_type).toLowerCase();return l==="weekday"?c>=1&&c<=5:l==="weekend"?c===0||c===6:l==="custom"&&Array.isArray(t.specific_days)?t.specific_days.map(Number).includes(c):!0},bt=t=>String(t||"").toLowerCase(),Nt=(t,o)=>t==null||o==null?!1:String(t)===String(o),se=t=>{if(typeof t=="boolean")return t;if(t==null)return!1;if(typeof t=="number")return t!==0;const o=String(t).trim().toLowerCase();return o?["true","1","yes","y"].includes(o)?!0:["false","0","no","n"].includes(o)?!1:!!t:!1},re=(t={},o=null)=>{if(!o)return!(t.slot_id!=null||Array.isArray(t.slot_ids)&&t.slot_ids.length||t.specific_time||t.time_from&&t.time_to);const c=[];if(t.slot_id!=null&&c.push(t.slot_id),Array.isArray(t.slot_ids)&&c.push(...t.slot_ids),t.target_slot_id!=null&&c.push(t.target_slot_id),c.length){const d=[o.slot_id,o.id,o._id,o.combo_slot_id].filter(i=>i!=null);if(!c.some(i=>d.some(g=>Nt(i,g))))return!1}const l=o.start_time||o.time||o.startTime||null;if(t.specific_time&&l&&l.slice(0,5)!==String(t.specific_time).slice(0,5))return!1;if(t.time_from&&t.time_to&&l){const d=et(l),u=et(t.time_from),i=et(t.time_to);if(d==null||u==null||i==null||d<u||d>i)return!1}return!0},ae=(t,{targetType:o,targetId:c,date:l,slot:d})=>{if(!t||!o||!c)return!1;const u=h(l).format("YYYY-MM-DD"),i=bt(t.target_type),g=bt(o);if(i&&g&&i!==g)return!1;if(!se(t.applies_to_all)){const p=[];if(t.target_id!=null&&p.push(t.target_id),Array.isArray(t.target_ids)&&p.push(...t.target_ids),!p.length||!p.some(b=>Nt(b,c)))return!1}return!(t.specific_date&&u!==t.specific_date||Array.isArray(t.specific_dates)&&t.specific_dates.length&&!t.specific_dates.some(p=>h(p).format("YYYY-MM-DD")===u)||t.date_from&&u<t.date_from||t.date_to&&u>t.date_to||!ee(t,u)||!re(t,d))},ne=(t={},o=null,c=0)=>{const l=Number(c);if(!l||l<=0)return 0;let d=(o==null?void 0:o.rule_discount_type)||t.discount_type||(t.discount_percent?"percent":null),u=(o==null?void 0:o.rule_discount_value)??t.discount_value??t.discount_percent??0;if(!d||!u)return 0;d=String(d).toLowerCase();let i=d==="amount"?Number(u):Number(u)/100*l;return Number.isFinite(Number(t.max_discount))&&(i=Math.min(i,Number(t.max_discount))),i=Math.min(i,l),Math.max(0,i)},ie=(t=[],{targetType:o,targetId:c,date:l,slot:d,basePrice:u})=>{if(!Array.isArray(t)||!t.length||!u||!c)return null;let i=null;return t.forEach(g=>{(Array.isArray(g.rules)&&g.rules.length?g.rules:[null]).forEach(p=>{if(p&&!ae(p,{targetType:o,targetId:c,date:l,slot:d}))return;const b=ne(g,p,u);if(!b)return;const k=Math.max(0,u-b);(!i||k<i.price)&&(i={offer:g,rule:p,price:k,discount:b})})}),i},jt=(t,o)=>{if(!t||!o)return!0;const c=h().format("YYYY-MM-DD"),l=h(o).format("YYYY-MM-DD");if(l>c)return!0;if(l===c){const d=h(),u=t.start_time||t.time||null;if(!u)return!0;const[i,g]=u.split(":").map(Number),j=(i||0)*60+(g||0),b=d.hour()*60+d.minute()+60;return j>=b}return!1};function he(){const{id:t}=Ht(),o=Wt(),c=Gt(),l=m.useMemo(()=>!t||t==="undefined"||t==="null"?null:t,[t]),[d,u]=m.useState({status:"idle",data:null,error:null}),[i,g]=m.useState(C()),[j,p]=m.useState({status:"idle",items:[],error:null}),[b,k]=m.useState(""),[q,H]=m.useState(1),[st,P]=m.useState(!1),[_t,wt]=m.useState(null),S=m.useMemo(()=>null,[_t,st]),D=m.useCallback(s=>{g(s),k("")},[]),vt=m.useCallback(()=>{D(C())},[D]),kt=m.useCallback(()=>{D(h().add(1,"day").format("YYYY-MM-DD"))},[D]),Mt=m.useCallback(s=>{s.preventDefault(),s.stopPropagation(),wt(s.currentTarget),P(!0)},[]),Dt=m.useCallback(s=>{D(s),P(!1)},[D]),Yt=m.useCallback(s=>!s||s===C()||s===h().add(1,"day").format("YYYY-MM-DD")?"All Days":h(s).format("D MMM"),[]),[At,B]=m.useState({status:"idle",items:[],error:null}),[T,W]=m.useState({status:"idle",items:[],error:null});m.useEffect(()=>{l||u({status:"failed",data:null,error:"Invalid attraction id"})},[l]);const G=m.useMemo(()=>{const s=Z(d.data||{}),a=Number(s);if(Number.isFinite(a))return a;const x=Number(l);return Number.isFinite(x)?x:null},[d.data,l]),rt=m.useCallback(s=>{if(!s)return()=>{};let a=!1;return B({status:"loading",items:[],error:null}),(async()=>{try{const f=await z.get(U.gallery.list(),{params:{active:!0,target_type:"attraction",target_ref_id:s,limit:12}});if(a)return;const w=Array.isArray(f==null?void 0:f.data)?f.data:Array.isArray(f)?f:[];B({status:"succeeded",items:w,error:null})}catch(f){if(a)return;B({status:"failed",items:[],error:(f==null?void 0:f.message)||"Failed to load gallery"})}})(),()=>{a=!0}},[]);m.useEffect(()=>G?rt(G):(B({status:"idle",items:[],error:null}),()=>{}),[G,rt]),m.useEffect(()=>{if(!l)return;u({status:"loading",data:null,error:null});const s=new AbortController;return(async()=>{try{const a=await z.get(U.attractions.byId(l),{signal:s.signal}),x=(a==null?void 0:a.attraction)||a||null;u({status:"succeeded",data:x,error:null})}catch(a){if(a!=null&&a.canceled)return;u({status:"failed",data:null,error:(a==null?void 0:a.message)||"Failed to load attraction"})}})(),()=>s.abort()},[l]);const at=m.useCallback(async()=>{if(!l||!i)return;p(a=>({...a,status:"loading",error:null,items:[]}));const s=new AbortController;try{const a=await z.get(U.slots.list(),{params:{attraction_id:l,date:R(i)},signal:s.signal}),x=Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a)?a:[];p({status:"succeeded",items:x,error:null});const f=x.find(w=>jt(w,i))||x[0]||null;k(f?tt(f,0):"")}catch(a){if(a!=null&&a.canceled)return;p({status:"failed",items:[],error:(a==null?void 0:a.message)||"Failed to load slots"})}return()=>s.abort()},[l,i]);m.useEffect(()=>{l&&i?(k(""),at()):p({status:"idle",items:[],error:null})},[l,i,at]),m.useEffect(()=>{if(!l||T.status==="loading")return;let s=!1;return W(a=>({...a,status:"loading",error:null})),(async()=>{try{const a=await z.get(U.offers.list(),{params:{active:!0,target_type:"attraction",target_id:l}});if(s)return;const x=Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a)?a:[];W({status:"succeeded",items:x,error:null})}catch(a){if(s)return;W({status:"failed",items:[],error:(a==null?void 0:a.message)||"Failed to load offers"})}})(),()=>{s=!0}},[l,T.status]);const r=d.data,nt=(r==null?void 0:r.name)||(r==null?void 0:r.title)||"Attraction",Ct=`https://picsum.photos/seed/attr${l}/1920/800`,St=`https://picsum.photos/seed/attr${l}/800/600`,[Tt,$t]=m.useState(typeof window<"u"?window.innerWidth>=1024:!1);m.useEffect(()=>{if(typeof window>"u")return;const s=()=>$t(window.innerWidth>=1024);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const Pt=pt((r==null?void 0:r.desktop_image_url)||(r==null?void 0:r.hero_image)||(r==null?void 0:r.banner_image)||(r==null?void 0:r.image_web)||(r==null?void 0:r.image_url)||r,Ct),Bt=pt((r==null?void 0:r.mobile_image)||(r==null?void 0:r.image_mobile)||(r==null?void 0:r.image_url)||r,St),it=Tt?Pt:Bt;At.items.length>0;const n=m.useMemo(()=>{for(let s=0;s<j.items.length;s+=1){const a=j.items[s];if(tt(a,s)===b)return a}return null},[j.items,b]),$=Number(Xt(r)||0),ot=Number(Jt(r)||$),K=(n==null?void 0:n.pricing)||{},lt=(n==null?void 0:n.offer)||null,Ft=n?Ot(n,ot):ot,Lt=n?ht(n,$):$,y=Number(K.base_price??Ft??0),M=Number(K.final_price??Lt??0),Y=!!lt||y>0&&M>0&&M<y&&K.final_price!=null,It=Y&&y>0?Math.round((y-M)/y*100):0,F=Math.max(1,Number(q)||1),v=m.useMemo(()=>{if(!n||!r||!T.items.length||Y)return null;const s=M||y||0;if(!s)return null;const a=Z(r);return ie(T.items,{targetType:"attraction",targetId:a,date:i,slot:n,basePrice:s})},[r,n,T.items,M,y,i,Y]),_=Y?M||y:v?v.price:M,N=Y?lt:(v==null?void 0:v.offer)||null,ct=(N==null?void 0:N.description)||"",Et=Y?It:v&&y>0?Math.round((y-_)/y*100):Zt(r)||0,dt=y>0&&_>0&&_<y,zt=Number(_||0)*F,Ut=()=>{var w;if(!r||!i||!n||!q)return;const s=(n==null?void 0:n.id)??(n==null?void 0:n._id)??(n==null?void 0:n.slot_id);if(!s)return;const a=Z(r),x=F;c(Qt({itemType:"attraction",attractionId:a,attraction:r,date:R(i),booking_date:R(i),booking_time:(n==null?void 0:n.start_time)||(n==null?void 0:n.startTime)||(n==null?void 0:n.slot_start_time)||null,slotId:s,slot:n,qty:x,unitPrice:Number(_??(n==null?void 0:n.price)??y),title:(r==null?void 0:r.title)||(r==null?void 0:r.name)||`Attraction #${a}`,slotLabel:gt(n),dateLabel:h(i).format("DD MMM YYYY"),meta:{title:(r==null?void 0:r.title)||(r==null?void 0:r.name)||`Attraction #${a}`,start_time:n==null?void 0:n.start_time,end_time:n==null?void 0:n.end_time,capacity:n==null?void 0:n.capacity,available:n==null?void 0:n.available},offer_id:N==null?void 0:N.offer_id,offer_rule_id:(N==null?void 0:N.rule_id)||((w=v==null?void 0:v.rule)==null?void 0:w.rule_id)})),c(Vt(1));const f=new URLSearchParams({type:"attraction",attraction_id:String(a),date:R(i),slot:b,qty:String(x)});o(`/booking?${f.toString()}`)};if(d.status==="loading"&&!r)return e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-white",children:e.jsx(ft,{})});if(d.status==="failed")return e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-white px-4",children:e.jsx("div",{className:"max-w-lg w-full",children:e.jsx(O,{message:d.error||"Attraction not found"})})});if(!r)return e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-white px-4",children:e.jsx("div",{className:"max-w-lg w-full",children:e.jsx(O,{message:"Attraction not found"})})});const L=(r==null?void 0:r.short_description)||(r==null?void 0:r.subtitle)||"",mt=n,ut=mt&&_?_*F:null;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white font-sans",children:[e.jsx("section",{className:"relative h-[42vh] md:h-[56vh] bg-gray-200",children:d.status==="loading"?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ft,{})}):it?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:it,alt:nt,loading:"lazy",className:"w-full h-full object-cover",draggable:"false"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),e.jsx("div",{className:"absolute bottom-6 left-0 right-0 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white drop-shadow",children:nt}),L?e.jsx("p",{className:"text-gray-200 text-sm md:text-base max-w-2xl mt-2",children:L}):null]})})]}):null}),e.jsx("section",{className:"bg-white/90 backdrop-blur border-b border-gray-100 shadow-sm",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 md:py-5",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-1",children:"Book this experience"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose your date, time slot & tickets to continue to checkout."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 md:flex-none",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 sm:px-4 sm:py-2.5 flex-wrap",children:[e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Date"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:vt,className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-colors ${i===C()?"bg-sky-600 text-white border-sky-600":"bg-white text-gray-800 border-gray-200 hover:border-sky-300"}`,children:"Today"}),e.jsx("button",{type:"button",onClick:kt,className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-colors ${i===h().add(1,"day").format("YYYY-MM-DD")?"bg-sky-600 text-white border-sky-600":"bg-white text-gray-800 border-gray-200 hover:border-sky-300"}`,children:"Tomorrow"}),e.jsx("button",{type:"button",onClick:Mt,className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-colors ${i&&i!==""&&i!==C()&&i!==h().add(1,"day").format("YYYY-MM-DD")?"bg-sky-600 text-white border-sky-600":"bg-white text-gray-800 border-gray-200 hover:border-sky-300"}`,children:i&&i!==C()&&i!==h().add(1,"day").format("YYYY-MM-DD")?Yt(i):"All Days"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 sm:px-4 sm:py-2.5 min-w-[190px]",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Slot"}),j.status==="loading"?e.jsx("span",{className:"text-xs text-gray-500",children:"Loading…"}):e.jsx("select",{className:"flex-1 bg-transparent border-none outline-none text-sm font-medium text-gray-900 truncate",value:b,onChange:s=>k(s.target.value),disabled:j.status==="loading"||!j.items.length,children:j.items.length?e.jsxs(e.Fragment,{children:[!b&&e.jsx("option",{value:"",children:"Select slot"}),j.items.filter(s=>jt(s,i)).map((s,a)=>{const x=tt(s,a),f=(s==null?void 0:s.available)===0||(s==null?void 0:s.capacity)===0,w=ht(s,$)||$||0;return e.jsxs("option",{value:x,disabled:f,children:[gt(s),w?` • ${A(w)}`:"",f?" — Unavailable":""]},x)})]}):e.jsx("option",{children:"No slots"})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 sm:px-4 sm:py-2.5",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Qty"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"w-7 h-7 text-sm rounded-full border border-gray-300 flex items-center justify-center",onClick:()=>H(s=>Math.max(1,Number(s||1)-1)),children:"-"}),e.jsx("input",{type:"number",min:1,value:q,onChange:s=>H(Math.max(1,Number(s.target.value)||1)),className:"w-12 bg-transparent border-none text-center text-sm font-semibold outline-none"}),e.jsx("button",{type:"button",className:"w-7 h-7 text-sm rounded-full border border-gray-300 flex items-center justify-center",onClick:()=>H(s=>Math.max(1,Number(s||1)+1)),children:"+"})]})]}),e.jsx("button",{type:"button",className:"w-full sm:w-auto inline-flex items-center justify-center rounded-xl bg-blue-600 text-white px-6 py-2.5 text-sm font-semibold shadow-md hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed",disabled:!mt||!_,onClick:Ut,children:ut?e.jsxs(e.Fragment,{children:["Book Now •"," ",e.jsx("span",{className:"ml-1 rupee",children:A(ut)})]}):"Book Now"})]})]})})}),e.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 grid grid-cols-1 lg:grid-cols-3 gap-10 md:gap-12",children:[e.jsx("div",{className:"lg:col-span-2 space-y-8",children:d.status==="failed"?e.jsx(O,{message:d.error}):e.jsxs(e.Fragment,{children:[L?e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 md:p-6",children:e.jsx("p",{className:"text-gray-700 text-base md:text-lg",children:L})}):null,r!=null&&r.description?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 md:p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"About this attraction"}),e.jsx("div",{className:"prose prose-sm md:prose max-w-none text-gray-700 leading-relaxed",style:{textAlign:"left"},dangerouslySetInnerHTML:{__html:r.description}})]}):null]})}),e.jsx("aside",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-3xl border shadow-lg bg-white p-6 sticky top-24 space-y-6",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 font-semibold",children:"Base price"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 rupee",children:A(y||_||0)})]}),dt?e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:"Offer price"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600 rupee",children:A(_||0)}),ct?e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:ct}):null]}):e.jsx("p",{className:"text-xs text-gray-500",children:"Per person • taxes included"}),N?e.jsxs("span",{className:"mt-1 text-xs font-semibold text-emerald-600 flex items-center gap-1",children:[e.jsxs("span",{children:[N.rule_type==="happy_hour"?"Happy Hour":"Offer"," ","applied:"]}),e.jsx("span",{children:N.title||"Special offer"})]}):null]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"per ticket"}),dt&&e.jsxs("div",{className:"text-xs font-semibold text-emerald-600",children:["Save ",Et,"%"]})]})]}),e.jsxs("div",{className:"mt-3 rounded-2xl border bg-gray-50 px-3 py-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"rupee",children:[F," × ",A(_||0)]})]}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-gray-900 font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"rupee",children:A(zt||0)})]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:"text-gray-600",children:"Slots and pricing may vary by date and time. Use the booking bar above to choose your preferred session."}),e.jsx(Kt,{to:"/attractions",className:"inline-flex items-center justify-center rounded-full border border-blue-100 text-blue-600 px-5 py-2.5 text-sm font-medium hover:bg-blue-50",children:"Explore other attractions"})]}),e.jsx("p",{className:"text-[11px] text-gray-400 text-center",children:"We’ll add this to your cart so you can add more attractions before checkout."})]})})]})]}),st&&e.jsxs("div",{className:"fixed inset-0 z-[80] flex",onClick:()=>P(!1),children:[e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"absolute bg-white rounded-2xl shadow-2xl border border-gray-200 p-4 w-80 max-h-[70vh] overflow-y-auto",style:{top:S?`${S.top}px`:"50%",left:S?`${S.left-160}px`:"50%",transform:S?"none":"translate(-50%, -50%)"},onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Select Date"}),e.jsx("button",{onClick:()=>P(!1),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 transition-colors",children:e.jsx(te,{size:18})})]}),e.jsx("div",{className:"space-y-3",children:[0,1,2].map(s=>{const a=h().add(s,"month"),x=a.startOf("month"),f=a.endOf("month"),w=x.day(),Rt=f.date(),xt=h();return e.jsxs("div",{className:"border border-gray-100 rounded-xl p-3 bg-white",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:a.format("MMMM YYYY")}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-xs",children:[["S","M","T","W","T","F","S"].map(I=>e.jsx("div",{className:"text-center text-gray-400 font-medium py-2",children:I},I)),Array.from({length:w}).map((I,E)=>e.jsx("div",{className:"p-2"},`empty-${E}`)),Array.from({length:Rt}).map((I,E)=>{const Q=x.date(E+1),V=Q.format("YYYY-MM-DD"),X=Q.isBefore(xt,"day"),J=i===V,qt=Q.isSame(xt,"day");return e.jsx("button",{type:"button",onClick:()=>Dt(V),disabled:X,className:`
                              p-2 rounded-lg text-sm font-medium transition-all duration-200
                              ${X?"text-gray-300 cursor-not-allowed bg-gray-50":""}
                              ${J?"bg-sky-600 text-white shadow-sm scale-105":""}
                              ${!X&&!J?"hover:bg-sky-50 text-gray-700 hover:text-sky-700":""}
                              ${qt&&!J?"bg-sky-100 text-sky-700 font-semibold border border-sky-200":""}
                            `,children:E+1},V)})]})]},s)})})]})]})]})}export{he as default};
