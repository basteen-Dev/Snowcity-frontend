import{R as r,j as e,L as i}from"./index-C5Mz9dTM.js";import{a as c}from"./AdminApp-C7IcGGGV.js";import"./createLucideIcon-DQ6FqzLt.js";import"./file-text-CQ7rExmv.js";import"./ticket-C3bgGsni.js";const m=a=>a?Array.isArray(a)?a.map(s=>s?typeof s=="string"?s:typeof s=="object"?s.role_name||s.name||null:String(s):null).filter(Boolean).join(", "):typeof a=="object"?a.role_name||a.name||"":String(a):"";function j(){const[a,s]=r.useState([]),[n,l]=r.useState("");async function d(){const t=await c.get("/api/admin/admins",{search:n});s(Array.isArray(t)?t:[])}return r.useEffect(()=>{d()},[]),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"rounded-md border px-3 py-2 text-sm dark:bg-neutral-900 dark:border-neutral-700",placeholder:"Search by name/email/phone",value:n,onChange:t=>l(t.target.value)}),e.jsx("button",{className:"px-3 py-2 rounded-md border text-sm",onClick:d,children:"Search"}),e.jsx(i,{to:"/admin/admins/new",className:"ml-auto px-3 py-2 rounded-md bg-gray-900 text-white text-sm",children:"Create Admin"})]}),e.jsx("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 dark:border-neutral-800 overflow-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-neutral-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Email"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Phone"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Roles"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),e.jsxs("tbody",{children:[a.map(t=>e.jsxs("tr",{className:"border-t dark:border-neutral-800",children:[e.jsx("td",{className:"px-3 py-2",children:t.name}),e.jsx("td",{className:"px-3 py-2",children:t.email}),e.jsx("td",{className:"px-3 py-2",children:t.phone||""}),e.jsx("td",{className:"px-3 py-2",children:m(t.roles)}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx(i,{className:"px-2 py-1 rounded-md border text-xs",to:`/admin/admins/${t.user_id}/access`,children:"Manage Access"})})]},t.user_id)),!a.length&&e.jsx("tr",{children:e.jsx("td",{className:"px-3 py-6 text-center text-gray-500",colSpan:5,children:"No admins"})})]})]})})]})}export{j as default};
