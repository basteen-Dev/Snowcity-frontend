import{R as l}from"./index-D_x0VcQ4.js";import{a as u,A as d}from"./AdminApp-Ct7HyYhZ.js";const b=t=>Array.isArray(t==null?void 0:t.data)?t.data:Array.isArray(t)?t:Array.isArray(t==null?void 0:t.list)?t.list:[],m=(t=[],c="attraction")=>{const e=c==="combo"?"Combo":"Attraction";return t.map((a,r)=>{const o=a.id??a.attraction_id??a.combo_id??a.target_id??r+1,s=Number(o),n=Number.isNaN(s)?r+1:s,i=a.display_label||a.title||a.name||a.combo_name||`${e} #${n}`;return{...a,id:n,display_label:i}})};function A(t={}){const{includeInactive:c=!1}=t,[e,a]=l.useState({status:"idle",error:null,attractions:[],combos:[]}),r=l.useCallback(async()=>{a(o=>({...o,status:"loading",error:null}));try{const o=c?void 0:{params:{active:!0}},[s,n]=await Promise.all([u.get(d.attractions(),o),u.get(d.combos(),o)]),i=m(b(s),"attraction"),f=m(b(n),"combo");a({status:"succeeded",error:null,attractions:i,combos:f})}catch(o){a(s=>({...s,status:"failed",error:o}))}},[c]);return l.useEffect(()=>{r()},[r]),{...e,reload:r}}export{A as u};
