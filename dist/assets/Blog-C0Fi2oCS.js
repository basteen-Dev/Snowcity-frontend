import{C as m,R as i,i as u,k as x,j as s,A as g}from"./index-Buz5vlJT.js";import{E as f}from"./ErrorState-DW0DLMd4.js";import{i as h}from"./media-DTTax9V0.js";import{R as j,H as b}from"./RawFrame-B8nGHATH.js";import"./clsx-B-dksMZM.js";function S(){const{slug:r}=m(),[e,l]=i.useState({status:"idle",data:null,error:null});if(i.useEffect(()=>{if(!r)return;const n=new AbortController;return(async()=>{l({status:"loading",data:null,error:null});try{const a=await u.get(x.blogs.bySlug(r),{signal:n.signal}),d=(a==null?void 0:a.blog)||a||null;l({status:"succeeded",data:d,error:null})}catch(a){l({status:"failed",data:null,error:(a==null?void 0:a.message)||"Failed to load blog"})}})(),()=>n.abort()},[r]),e.status==="loading")return s.jsx(g,{});if(e.status==="failed")return s.jsx(f,{message:e.error});const t=e.data||{},o=h(t),c=(t.editor_mode||"").toLowerCase()==="raw";return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white px-4 py-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t.title||"Blog"}),t.author?s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["By ",t.author]}):null,o?s.jsx("div",{className:"mt-4 rounded-xl overflow-hidden border",children:s.jsx("img",{src:o,alt:t.title,className:"w-full h-auto object-cover"})}):null,s.jsx("div",{className:"mt-6",children:c?s.jsx(j,{title:t.title||"Blog",html:t.raw_html||"",css:t.raw_css||"",js:t.raw_js||""}):s.jsx(b,{html:t.content||""})})]})})}export{S as default};
