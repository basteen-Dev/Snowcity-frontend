import{h as g,u,R as i,p as h,t as b,j as a,A as x}from"./index-CNdOvwUA.js";import{A as j}from"./AttractionCard-BlquqybF.js";import{C as v}from"./ComboCard-Capzegi7.js";import{E as N}from"./ErrorState-CuVT3_I5.js";import"./ids-YExsbyMi.js";import"./media-Ct2xuz47.js";import"./pricing-CIeFTiJd.js";import"./formatters-CmiLqhJj.js";function m(r,s,o){const l=(s==null?void 0:s.id)??(s==null?void 0:s._id)??(s==null?void 0:s.slug)??(s==null?void 0:s.code)??(s==null?void 0:s.uuid)??`idx-${o}`;return`${r}-${String(l)}`}function $(){const r=g(),{items:s,status:o,error:l}=u(t=>t.attractions),{items:d,status:n}=u(t=>t.combos),[c,p]=i.useState("");i.useEffect(()=>{o==="idle"&&r(h({active:!0,page:1,limit:30})),n==="idle"&&r(b({active:!0,page:1,limit:12}))},[o,n,r]);const f=i.useMemo(()=>{if(!c)return s;const t=c.toLowerCase();return s.filter(e=>String(e.name||e.title||"").toLowerCase().includes(t))},[s,c]);return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#e0f2fe] via-[#bae6fd] to-white px-4 pt-20 pb-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Attractions"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Browse all experiences and book your slots."}),a.jsx("div",{className:"mb-6",children:a.jsx("input",{className:"w-full md:w-96 rounded-full border px-4 py-2",placeholder:"Search attractions...",value:c,onChange:t=>p(t.target.value)})}),o==="loading"&&!s.length?a.jsx(x,{}):null,o==="failed"?a.jsx(N,{message:(l==null?void 0:l.message)||"Failed to load attractions"}):null,a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f.map((t,e)=>a.jsx(j,{item:t},m("attr",t,e)))}),a.jsxs("div",{className:"mt-10",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"Combo Deals"}),n==="loading"&&!d.length?a.jsx(x,{}):null,a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((t,e)=>a.jsx(v,{item:t},m("combo",t,e)))})]})]})})}export{$ as default};
