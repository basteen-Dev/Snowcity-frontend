import{R as r,D as a,j as e}from"./index-CmreT6x1.js";import{a as l}from"./AdminApp-BV7zANWg.js";import{R as c,T as p}from"./CategoricalChart-DBf64Xqk.js";import{L as x,a as u}from"./LineChart-CVdFWwId.js";import{C as g,X as b,Y as y,L as f}from"./CartesianChart-KmrazZSN.js";import"./createLucideIcon-CgZNF2TE.js";import"./file-text-ButRzfWA.js";import"./newspaper-yOb_4zvd.js";import"./ticket-hq6RMmhb.js";import"./chevron-down-bqKWLlrR.js";import"./clsx-B-dksMZM.js";import"./index-CWA4Ncqu.js";function T(){const[s,i]=r.useState(a().subtract(14,"day").startOf("day").toISOString()),[o,d]=r.useState(a().endOf("day").toISOString()),[n,m]=r.useState([]);return r.useEffect(()=>{(async()=>{const t=await l.get("/api/admin/analytics/daily",{from:s,to:o});m(Array.isArray(t)?t:[])})()},[s,o]),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-xl border bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 p-3",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-neutral-300",children:"This view reflects access scoping based on your admin role/permissions. Data is filtered server-side."})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{type:"datetime-local",className:"rounded-md border px-2 py-1 text-sm dark:bg-neutral-900 dark:border-neutral-700",value:a(s).format("YYYY-MM-DDTHH:mm"),onChange:t=>i(a(t.target.value).toISOString())}),e.jsx("input",{type:"datetime-local",className:"rounded-md border px-2 py-1 text-sm dark:bg-neutral-900 dark:border-neutral-700",value:a(o).format("YYYY-MM-DDTHH:mm"),onChange:t=>d(a(t.target.value).toISOString())})]}),e.jsxs("div",{className:"rounded-xl border bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Scoped Daily Bookings"}),e.jsx("div",{style:{height:320},children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(x,{data:n,children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"bucket",tickFormatter:t=>a(t).format("MM-DD")}),e.jsx(y,{}),e.jsx(p,{labelFormatter:t=>a(t).format("YYYY-MM-DD")}),e.jsx(f,{}),e.jsx(u,{type:"monotone",dataKey:"bookings",stroke:"#2563eb",name:"Bookings",strokeWidth:2,dot:!1})]})})})]})]})}export{T as default};
